= Edit a bug watch =

After a bug watch is recorded, it is possible to go back and change it.

    >>> admin_browser.open('http://bugs.launchpad.dev/bugs/1/+watch/2')
    >>> admin_browser.getControl('URL').value = (
    ...     'https://bugzilla.mozilla.org/show_bug.cgi?id=1000')
    >>> admin_browser.getControl('Change').click()
    >>> admin_browser.url
    'http://bugs.launchpad.dev/firefox/+bug/1'
    >>> 'https://bugzilla.mozilla.org/show_bug.cgi?id=1000' in (
    ...     admin_browser.contents)
    True

The URL supplied must be a valid bug tracker URL and must point to a
bug tracker already registered with Launchpad.

    >>> admin_browser.open('http://bugs.launchpad.dev/bugs/1/+watch/2')
    >>> admin_browser.getControl('URL').value = (
    ...     'https://bugzilla.mozilla.org/foo_bug.cgi?id=1000')
    >>> admin_browser.getControl('Change').click()
    >>> admin_browser.url
    'http://bugs.launchpad.dev/bugs/1/+watch/2/+edit'
    >>> for message in find_tags_by_class(admin_browser.contents, 'message'):
    ...     print extract_text(message)
    There is 1 error.
    Invalid bug tracker URL.

Likewise, stupid URLs are rejected with a polite error message.

    >>> admin_browser.getControl('URL').value = 'GELLER'
    >>> admin_browser.getControl('Change').click()
    >>> admin_browser.url
    'http://bugs.launchpad.dev/bugs/1/+watch/2/+edit'
    >>> for message in find_tags_by_class(admin_browser.contents, 'message'):
    ...     print extract_text(message)
    There is 1 error.
    "GELLER" is not a valid URI
