<html
  xmlns="http://www.w3.org/1999/xhtml"
  xmlns:tal="http://xml.zope.org/namespaces/tal"
  xmlns:metal="http://xml.zope.org/namespaces/metal"
  xmlns:i18n="http://xml.zope.org/namespaces/i18n"
  xml:lang="en"
  lang="en"
  dir="ltr"
  metal:use-macro="context/@@main_template/master"
  i18n:domain="launchpad"
>
  <body>

<div metal:fill-slot="main">

  <div metal:use-macro="context/@@launchpad_form/form">

    <metal:extra_info metal:fill-slot="extra_info">

      <p class="informational message"
         tal:repeat="message view/notifications"
         tal:content="structure message">
        Confirmation message.
      </p>

    </metal:extra_info>

    <metal:widgets 
        metal:fill-slot="widgets"
        tal:define="product_widget nocall:view/widgets/product;
                    product product_widget/getInputValue">


      <div tal:define="widgets view/compulsory_widgets">
        <div metal:use-macro="context/@@launchpad_form/widget_rows" />
      </div>

      <div class="field">

        <label tal:content="product_widget/label">Label</label>

        <div>
          <a tal:attributes="href product/fmt:url"
             tal:content="product/bugtargetdisplayname">
            Mozilla Firefox
          </a> (<a tal:attributes="href string:+choose-affected-product?field.product=${product/name}">Choose another project</a>)
          <input type="hidden" tal:replace="structure product_widget/hidden" />
        </div>
      </div>

      <div tal:condition="not: product/official_malone"
          tal:define="widgets view/bugwatch_widgets;
                      bugtracker product/getExternalBugTracker">
        <p tal:condition="bugtracker">
          <tal:product tal:replace="product/displayname">Evolution</tal:product>
          uses <a tal:attributes="href bugtracker/baseurl"
                  tal:content="bugtracker/title">Gnome Bugzilla</a> to
          track its bugs. If you know this bug has been reported there,
          you can link to it; Launchpad will keep track of its status
          for you.
        </p>

        <p tal:condition="not: bugtracker">
          <tal:product tal:replace="product/displayname">Evolution</tal:product>
          doesn't use Launchpad to track its bugs. If you know this bug
          has been reported in another bug tracker, you can link to it;
          Launchpad will keep track of its status for you.
        </p>

        <table class="form" style="width: auto"
               tal:define="link_items view/link_upstream_how_items">
          <tr>
            <td tal:content="structure link_items/LINK_UPSTREAM" />
            <td tal:define="widget nocall:view/widgets/bug_url;
                            field_name widget/context/__name__;
                            error python:view.getFieldError(field_name);
                            error_class python:error and 'error' or None"
                tal:attributes="class error_class">
              <div>
                <input tal:replace="structure widget" />
              </div>
              <div class="message" tal:condition="error"
                   tal:content="structure error">Error message</div>
              <p class="formHelp" tal:condition="widget/hint"
                 tal:content="widget/hint">Some Help Text
              </p>
            </td>
          </tr>
          <tal:comment replace="nothing">
            XXX: GavinPanella 2008-02-13 bug=201793: This will be
            uncommented in a later branch.
            <tr>
              <td colspan="2"
                  tal:content="structure link_items/EMAIL_UPSTREAM" />
            </tr>
          </tal:comment>
          <tr>
            <td tal:content="structure link_items/EMAIL_UPSTREAM_DONE" />
            <td tal:define="widget nocall:view/widgets/upstream_email_address_done;
                            field_name widget/context/__name__;
                            error python:view.getFieldError(field_name);
                            error_class python:error and 'error' or None"
                tal:attributes="class error_class">
              <div>
                <input tal:replace="structure widget" />
              </div>
              <div class="message" tal:condition="error"
                   tal:content="structure error">Error message</div>
              <p class="formHelp" tal:condition="widget/hint"
                 tal:content="widget/hint">Some Help Text
              </p>
            </td>
          </tr>
          <tr>
            <td colspan="2"
                tal:content="structure link_items/UNLINKED_UPSTREAM" />
          </tr>
        </table>

      </div>

      <tal:public_bug tal:condition="not: context/bug/private">

      <p tal:condition="product/bug_supervisor">
        <a tal:attributes="href product/bug_supervisor/fmt:url"
           tal:content="product/bug_supervisor/displayname">Sample Person</a>,
           the bug supervisor for 
           <tal:product tal:replace="product/displayname">Firefox</tal:product>,
           will be notified about this bug.
      </p>

      <tal:no_bug_supervisor tal:condition="not:product/bug_supervisor">
        <p tal:condition="product/official_malone">
          <a tal:attributes="href product/owner/fmt:url"
             tal:content="product/owner/displayname">Sample Person</a>, the
             <tal:product tal:replace="product/displayname">Firefox</tal:product>
             registrant, will be notified about this bug.

        </p>

        <p tal:condition="not: product/official_malone">
          There is no bug supervisor for
          <tal:product tal:replace="product/displayname">Firefox</tal:product>.
          This means that there is nobody upstream we can notify about
          this issue.
        </p>

      </tal:no_bug_supervisor>

      </tal:public_bug>

      <tal:private_bug tal:condition="context/bug/private">

      <p tal:condition="product/bug_supervisor">
        This is a private bug report,
        so <a tal:attributes="href product/bug_supervisor/fmt:url"
           tal:content="product/bug_supervisor/displayname">Sample Person</a>,
         the bug supervisor for 
         <tal:product tal:replace="product/displayname">Firefox</tal:product>,
         won&rsquo;t be notified. You can also set up 
           <a href="+addsubscriber">additional contacts</a> to be notified.
      </p>

      </tal:private_bug>

    </metal:widgets>

  </div>

</div>

  </body>
</html>
