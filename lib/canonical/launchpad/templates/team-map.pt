<html
  xmlns="http://www.w3.org/1999/xhtml"
  xmlns:tal="http://xml.zope.org/namespaces/tal"
  xmlns:metal="http://xml.zope.org/namespaces/metal"
  xmlns:i18n="http://xml.zope.org/namespaces/i18n"
  xml:lang="en"
  lang="en"
  dir="ltr"
  metal:use-macro="view/macro:page/onecolumn"
  i18n:domain="launchpad"
>

<body>

<div metal:fill-slot="main">

  <h1>Members' location</h1>
  <tal:unmapped condition="view/unmapped_participants">
    <div style="margin: 4px;">
      <h2>Complete the map!</h2>
      Do you know the current location for these team members? Set their
      locations!
    </div>

    <div>
      <span style="float: left; width: 15em"
            tal:repeat="person view/unmapped_participants">
        <a tal:condition="person/name|nothing"
           tal:attributes="
            href string:${person/fmt:url}/+editlocation?for_team=${context/name}"
           title="Set this person's location"
          ><img src="/@@/edit" />
          <tal:person replace="person/displayname" /></a>
      </span>
    </div>
  </tal:unmapped>
  <br /><br /><br />
  <div style="height:420px;">
    <div tal:condition="not: view/mapped_participants">
      None of the current participants in
      <tal:teamname replace="context/browsername" /> have a recorded
      location.
    </div>

    <div>
      <tal:some_mapped condition="view/mapped_participants">
        <div id="team_map_div"
           style="width: 75%; height: 250px; border: 1px; float: left;
           margin: 0 14px 0 0;">
        </div>
        <tal:map replace="structure view/map_html" />

      </tal:some_mapped>

      <div tal:condition="view/mapped_participants" style="float:left;">
        <div style="margin-bottom: 4px;"><strong>Members' current local time:</strong></div>
        <tal:time_set repeat="time view/times">
          <tal:times replace="time" /><br />
        </tal:time_set>
      </div>
    </div>
  </div>

</div>

</body>
</html>
