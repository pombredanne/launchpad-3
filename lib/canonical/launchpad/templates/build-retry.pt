<html
  xmlns="http://www.w3.org/1999/xhtml"
  xmlns:tal="http://xml.zope.org/namespaces/tal"
  xmlns:metal="http://xml.zope.org/namespaces/metal"
  xmlns:i18n="http://xml.zope.org/namespaces/i18n"
  xml:lang="en"
  lang="en"
  dir="ltr"
  metal:use-macro="context/@@main_template/master"
  i18n:domain="launchpad"
>
  <body>
    <metal:heading fill-slot="pageheading">
      <h1>Retry <span tal:replace="context/title"/></h1>
    </metal:heading>

<metal:leftportlets fill-slot="portlets_one">
  <div tal:replace="structure context/@@+portlet-details" />
</metal:leftportlets>

  <div metal:fill-slot="main"
       tal:define="message view/retry_build; error view/error|nothing">

    <p
      tal:condition="message"
      tal:content="message"
      class="informational message"
    />

    <p
      tal:condition="error"
      tal:content="error"
      class="error message"
    />

    <tal:can_reset condition="context/can_be_retried">
      <p><dfn tal:content="context/title">BUILD</dfn> is
         <span tal:replace="context/buildstate/title"/>.</p>
      <p>Retrying this build will destroy its history and logs.</p>
      <p>Are you sure ?</p>

      <form name="RETRY" action="" method="POST">
        <input name="RETRY" type="hidden" value="1"/>
        <input type="submit" value="Retry Build"/>
      </form>
    </tal:can_reset>

  </div>
</body>
</html>
