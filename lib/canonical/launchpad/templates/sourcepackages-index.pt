<html
  xmlns="http://www.w3.org/1999/xhtml"
  xmlns:tal="http://xml.zope.org/namespaces/tal"
  xmlns:metal="http://xml.zope.org/namespaces/metal"
  xmlns:i18n="http://xml.zope.org/namespaces/i18n"
  xml:lang="en"
  lang="en"
  dir="ltr"
  metal:use-macro="context/@@main_template/master"
  i18n:domain="launchpad"
>

<body>

<metal:leftportlets fill-slot="portlets_one">
  <div tal:replace="structure context/distribution/@@+portlet-details" /> <br />
  <div tal:replace="structure context/distroseries/@@+portlet-details" /> <br />
</metal:leftportlets>

<div metal:fill-slot="main">

  <h1>Source package search</h1>

  <p> You can use full or part of the source package name on this search.</p>

  <form name="search" method="GET">

      <input type="text" size="45" name="text" tal:attributes="value request/text|nothing" />
      <input type="submit" value="Search"/>

  </form>

  <tal:block tal:define="bn view/batchNavigator;
                         prev_url bn/prevBatchURL;
                         next_url bn/nextBatchURL;"
	         tal:condition="request/text|nothing">

  <table width="100%"
         tal:define="currentBatch bn/currentBatch">
    <tr>
      <th tal:condition="currentBatch">
         Matching Source Packages:
      </th>
      <th tal:condition="not:currentBatch">
         <i>No Source Packages Found</i>
      </th>
    </tr>
    <tr tal:repeat="release currentBatch">      
      <tal:dummy tal:define="package release">
      <td><a tal:content="package/name"
             tal:attributes="href package/name">PACKAGE</a>
      </td>
      </tal:dummy>
    </tr>    
    <tr>
    <td align="center">
    <fieldset tal:condition="python:prev_url or next_url">
    <div>
    	  <table>
	  <tr>
          <th tal:condition="prev_url">
	       <a tal:attributes="href prev_url"><b>&lt;&lt; Prev</b></a>
	  </th>
          <th tal:repeat="page_link bn/batchPageURLs">
	     <a tal:attributes="href python:page_link.values()[0]"
                tal:content="python:page_link.keys()[0]"></a>
	  </th>
          <th tal:condition="next_url" >
	     <a tal:attributes="href next_url"><b>Next &gt;&gt;</b></a>
          </th>
          </tr>
	  </table>
     </div>
     </fieldset>
    </td>
    </tr>
  </table>
  </tal:block>

</div>
</body>
</html>
 
