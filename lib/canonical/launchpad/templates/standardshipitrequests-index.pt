<tal:root
  xmlns:tal="http://xml.zope.org/namespaces/tal"
  xmlns:metal="http://xml.zope.org/namespaces/metal"
  xmlns:i18n="http://xml.zope.org/namespaces/i18n"
  omit-tag="">

<tal:do-this-first condition="view/processForm" />
<html
  xmlns="http://www.w3.org/1999/xhtml"
  xmlns:tal="http://xml.zope.org/namespaces/tal"
  xmlns:metal="http://xml.zope.org/namespaces/metal"
  xmlns:i18n="http://xml.zope.org/namespaces/i18n"
  xml:lang="en"
  lang="en"
  dir="ltr"
  metal:use-macro="context/@@main_template/master"
  i18n:domain="launchpad"
>
<body>

  <div metal:fill-slot="body">

  <h1>Standard request options</h1>

  <table>
  <tbody>
  <tr>
  <td width="80%">

  <tal:block define="alloptions context/getAllGroupedByFlavour">

  <tal:block condition="alloptions">
    <p>These are the options the user can choose when placing a new
    <em>Standard Request</em>. Only one of these should be the default option,
    and that is the one that will be initially selected for the user.</p>

    <ul>
      <li tal:repeat="flavour alloptions">
        <label tal:content="flavour/title">Ubuntu</label>

        <table class="listing sortable" id="standardrequests" width="80%"
               style="clear: both">
          <thead>
            <tr>
              <th>Description</th>
              <th>PC</th>
              <th>64-bit PC</th>
              <th>Mac</th>
              <th>Default option?</th>
              <th></th>
            </tr>
          </thead>
          <tbody>
            <tr tal:repeat="shipitrequest python:alloptions[flavour]">
              <td>
                <img alt="" src="/@@/edit" />
                <a tal:attributes="href shipitrequest/fmt:url"
                   tal:content="shipitrequest/description">description</a>
              </td>
              <td tal:content="shipitrequest/quantityx86" />
              <td tal:content="shipitrequest/quantityamd64" />
              <td tal:content="shipitrequest/quantityppc" />
              <td tal:condition="shipitrequest/isdefault">yes</td>
              <td tal:condition="not: shipitrequest/isdefault">no</td>
              <td class="formControls">
                <form method="post" name="delete" style="display: inline"
                      tal:attributes="action request/URL">
                  <input type="submit" value="Delete" 
                         tal:attributes="name shipitrequest/id" />
                </form>
              </td>
            </tr>
          </tbody>
        </table>
        <br />
      </li>
    </ul>
  </tal:block>

  <tal:block condition="not: alloptions">
    <p>No standard options have been created yet. This means people won't be
    able to place new shipit orders.</p>
  </tal:block>

  <br />
  <ul>
    <li class="add">
      <a href="/standardoptions/+new">Create a new standard option</a>
    </li>
  </ul>
  </tal:block>

  </td>
  <td
    width="20%"
    style="vertical-align: top;"
    tal:content="structure context/@@+portlet-navigation"
  />
  </tr>
  </tbody>
  </table>  
  

</div>

</body>
</html>
</tal:root>
