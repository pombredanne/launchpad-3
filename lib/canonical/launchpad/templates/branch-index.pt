<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en"
      lang="en"
      metal:use-macro="context/@@main_template/master"
      i18n:domain="launchpad">

<body>

<metal:main_template fill-slot="titleheader">
   <tal:display_name replace="view/display_name" />
</metal:main_template>

<metal:leftportlets fill-slot="portlets_one">
  <div tal:replace="structure context/@@+portlet-details" />
  <div tal:replace="structure context/@@+portlet-subscribers" />
</metal:leftportlets>

<div metal:fill-slot="main">

  <p tal:repeat="notice view/notices" tal:content="notice"
     class="portalMessage">
    notice goes here
  </p>

  <p tal:condition="context/summary"
     tal:content="context/summary">
    $Branch.summary goes here. This should be quite short, just a single
    paragraph of text really, giving the branch highlights.
  </p>
  <p tal:condition="not:context/summary">
    <tal:comment condition="nothing">
      <!-- XXX: That duplicates the 'edit' link from the action portlet and
           should be changed when but #5313 is fixed to comply with DNRY.
           -- DavidAllouche 2005-12-02 -->
    </tal:comment>
    <img src="/++resource++edit.gif" />
    <a tal:attributes="href view/edit_link_url">Edit branch details</a>.
    This branch has no summary. 
  </p>

  <table>
    <tbody>
      <tr>
        <th>Branch URL:</th>
        <td><tt><a tal:attributes="href view/url"
                   tal:content="view/url"
          >http://example.com/software/hello.devel</a></tt></td>
      </tr>
      <tr>
        <th>Status:</th>
        <td tal:content="context/lifecycle_status/title">Stable</td>
      </tr>
      <tr tal:condition="context/whiteboard">
        <td><b>Whiteboard:</b></td>
        <td tal:content="context/whiteboard">whiteboard</td>
      </tr>
    </tbody>
  </table>

  <h2>Recent History:</h2>

  <p tal:condition="not:context/revision_count">
    This branch has not been scanned for revisions yet, or no revisions were
    found on the last scan. Branches are scanned at least once a day.
  </p>

  <tal:history_available condition="context/revision_count">
  <p>Summary of the 10 latest revisions on that branch.</p>
  <table class="listing">
    <thead>
      <tr>
        <td></td>
        <th>Date</th>
        <th tal:condition="view/user">Author</th>
        <th>Message</th>
      </tr>
    </thead>
    <tbody>
      <tr tal:repeat="rev_no context/latest_revisions">
        <td tal:content="rev_no/sequence">1</td>
        <td tal:content="rev_no/revision/revision_date/fmt:date">2005-10-05</td>
        <td tal:condition="view/user" tal:content="rev_no/revision/revision_author/name">John Doe &lt;jdoe@example.com&gt;</td>
        <td tal:content="rev_no/revision/log_body">The revision commit message.</td>
      </tr>
    </tbody>
  </table>
  </tal:history_available>

</div>
</body>
</html>
