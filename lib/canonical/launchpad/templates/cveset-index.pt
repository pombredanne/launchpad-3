<html
  xmlns="http://www.w3.org/1999/xhtml"
  xmlns:tal="http://xml.zope.org/namespaces/tal"
  xmlns:metal="http://xml.zope.org/namespaces/metal"
  xmlns:i18n="http://xml.zope.org/namespaces/i18n"
  xml:lang="en"
  lang="en"
  dir="ltr"
  metal:use-macro="context/@@main_template/master"
  i18n:domain="malone"
>
  <body>
    <metal:heading fill-slot="pageheading">
      <h1>The Common Vulnerabilities and Exposures database</h1>
    </metal:heading>

<metal:leftportlets fill-slot="portlets_one">
  <div tal:replace="structure context/@@+portlet-details" />
</metal:leftportlets>

<div metal:fill-slot="main">

  <form method="post">
    <div>Find CVEs by number or keywords:</div>
    <div>
          <input name="text" size="20" tal:attributes="value view/text" />
          <input tal:condition="view/text" type="submit"
              value="Search Again" />
          <input tal:condition="not: view/text" type="submit"
              value="Search" />
    </div>
  </form>

  <p class="error message" tal:repeat="notice view/notices"
     tal:content="notice">
    Message Goes Here
  </p>

  <tal:searching condition="view/searchrequested">
    <table class="listing" tal:define="results view/searchresults">
      <thead>
        <tr class="results">
          <th colspan="0">
            Matches: <span tal:replace="view/matches">3</span>
          </th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>
            <dl condition="view/matches" class="products">
              <tal:block repeat="cve results">
                <dt>
                  <a tal:attributes="href cve/fmt:url"
                    ><dfn tal:content="cve/title">$CVE.title</dfn></a>
                </dt>
                <dd tal:content="cve/description">
                  $CVE.description
                </dd>
              </tal:block>
            </dl>
            <p tal:condition="not: view/matches">
              <i>No matching CVE entries were found.</i>
            </p>
          </td>
        </tr>
      </tbody>
    </table>
  </tal:searching>

  <tal:not_searching condition="not: view/searchrequested">
    <h2>Recently updated CVEs</h2>

    <div tal:repeat="cve context/latest_modified"
         tal:replace="structure cve/@@+listing-detailed" />
  </tal:not_searching>

</div>
</body>
</html>
