<html
  xmlns="http://www.w3.org/1999/xhtml"
  xmlns:tal="http://xml.zope.org/namespaces/tal"
  xmlns:metal="http://xml.zope.org/namespaces/metal"
  xmlns:i18n="http://xml.zope.org/namespaces/i18n"
  xml:lang="en"
  lang="en"
  dir="ltr"
  metal:use-macro="context/@@main_template/master"
  i18n:domain="launchpad"
>

  <body>
    <metal:portlets fill-slot="portlets">
      <tal:portlet
        condition="context/official_rosetta"
        replace="structure context/@@+portlet-translation-groups-and-permission"
      />
      <tal:portlet replace="structure context/@@+portlet-preflangs" />
    </metal:portlets>

    <div metal:fill-slot="main"
         tal:define="uses_translations view/uses_translations;
                     admin_user context/required:launchpad.TranslationsAdmin">
      <tal:uses-translations condition="uses_translations">
        <h1>Translation overview</h1>
      </tal:uses-translations>
      <tal:not-uses-translations condition="not: uses_translations">
        <h1 tal:condition="admin_user">
          How to start using Launchpad Translations
        </h1>
        <h1 tal:condition="not: admin_user">
          Translation setup needed
        </h1>
      </tal:not-uses-translations>
      <tal:uses-translations condition="uses_translations">
        <tal:translatable define="target context/primary_translatable">
          <p>
            For <tal:product replace="context/displayname" />,
            Launchpad currently recommends translating
            &#8220;<span tal:replace="target/displayname">main</span>&#8221;.
          </p>
          <div tal:replace="structure target/@@+potlist" />
          <div tal:replace="structure context/@@+portlet-translatables" />
        </tal:translatable>
      </tal:uses-translations>
      <tal:not-uses-translations condition="not: uses_translations">
        <tal:registrantoradmin
          condition="admin_user">
          <p>
            To set up <tal:product replace="context/displayname" /> for
            translation in Launchpad, you need to
            <tal:official condition="not: context/official_rosetta">set the
            flag that stats that <tal:product replace="context/displayname" />
            uses Launchpad to handle Translations and</tal:official> upload a
            translation template for one of its release series.
          </p>
          <ul>
            <li tal:repeat="series context/serieses">
              <a tal:attributes="
                   href string:${series/fmt:url}/+translations-upload"
                 tal:content="series/title">main</a>
            </li>
          </ul>
          <p>
            Or you may want to
            <a tal:attributes="href string:${context/fmt:url}/+packages">
              link the project to a distribution package
            </a> set up for translation, if there is one, so their
            translations can be shared.
          </p>
        </tal:registrantoradmin>
        <tal:other
          condition="not: admin_user">
          <p>
            The <tal:product replace="context/displayname" /> project is not
            set up for translation in Launchpad.
          </p>
          <p tal:condition="not:request/lp:person">
            If you&#8217;re
            <tal:person replace="context/owner/displayname" />,
            <a href="+login">log in</a> to begin the setup process.
          </p>
          <p>
            Otherwise, you might want to talk with
            <a tal:attributes="href context/owner/fmt:url"
               tal:content="context/owner/displayname">
              Foo Bar
            </a>, the project registrant, about using Launchpad for
            translations.
          </p>
          <p tal:condition="request/lp:person">
            You might want to talk with
            <a tal:attributes="href context/owner/fmt:url"
               tal:content="context/owner/displayname">
              Foo Bar
            </a>, the project registrant, about using Launchpad for
            translations.
          </p>
        </tal:other>
      </tal:not-uses-translations>
      <tal:registrant-or-admin
        condition="admin_user">
        <tal:has-obsolete-entries
          condition="context/obsolete_translatable_series">
          <div
            tal:replace="structure context/@@+portlet-obsolete-translatables" />
        </tal:has-obsolete-entries>
      </tal:registrant-or-admin>
    </div>
  </body>
</html>
