<html
  xmlns="http://www.w3.org/1999/xhtml"
  xmlns:tal="http://xml.zope.org/namespaces/tal"
  xmlns:metal="http://xml.zope.org/namespaces/metal"
  xmlns:i18n="http://xml.zope.org/namespaces/i18n"
  xml:lang="en"
  lang="en"
  dir="ltr"
  metal:use-macro="view/macro:page/onecolumn"
  i18n:domain="launchpad"
>
  <!-- metal:use-macro="context/@@main_template/master" -->

  <body>
    <metal:portlets fill-slot="portlets">
      <tal:portlet
        condition="context/official_rosetta"
        replace="structure context/@@+portlet-translation-groups-and-permission"
      />
      <tal:portlet replace="structure context/@@+portlet-preflangs" />
    </metal:portlets>

    <div metal:fill-slot="main"
         tal:define="uses_translations view/uses_translations;
                     admin_user context/required:launchpad.TranslationsAdmin">
      <tal:uses-translations condition="uses_translations">
        <h1>Translation overview</h1>
      </tal:uses-translations>
      <tal:not-uses-translations condition="not: uses_translations">
        <h1 tal:condition="admin_user">
          How to start using Launchpad Translations
        </h1>
        <h1 tal:condition="not: admin_user">
          Translation setup needed
        </h1>
      </tal:not-uses-translations>
      <ul class="helplinks">
        <li>
          <a href="https://help.launchpad.net/Translations"
             id="link-to-translations-help"
             >Help for translations
          </a>
        </li>
      </ul>
      <p>
        <strong tal:content="structure context/license_status/description">
          This project's license is open source.
        </strong>
      </p>
      <tal:uses-translations condition="uses_translations">
        <tal:translatable define="target context/primary_translatable">
          <p>
            For <tal:product replace="context/displayname" />,
            Launchpad currently recommends translating
            &#8220;<span tal:replace="target/displayname">main</span>&#8221;.
          </p>
          <p id="translation-permissions">
            <tal:product replace="context/displayname">This
            project</tal:product> is translated
            <tal:hasgroup condition="context/translationgroup">by
              <a tal:attributes="href context/translationgroup/fmt:url"
                 tal:content="context/translationgroup/title">translators</a>
            </tal:hasgroup>
            with <a href="https://help.launchpad.net/Translations/YourProject#Choosing%20a%20permissions%20policy"
              tal:content="context/translationpermission/title">certain</a>
            permissions.
            <tal:permissions condition="context/required:launchpad.Edit">
              You can modify permissions on the
              <a
                tal:define="link context/menu:navigation/translators"
                tal:attributes="href link/url"
              >Settings</a> page.
            </tal:permissions>
          </p>
          <div tal:replace="structure target/@@+potlist" />
          <div tal:replace="structure context/@@+portlet-translatables" />
        </tal:translatable>
      </tal:uses-translations>
      <tal:not-uses-translations condition="not: uses_translations">
        <p>
          <strong>
            This project is not configured to use Launchpad for translations.
          </strong>
          <tal:admin_or_owner condition="context/required:launchpad.Edit">
            You can change this in the
            <a tal:attributes="href string:+edit">project settings</a>.
          </tal:admin_or_owner>
        </p>
        <tal:registrantoradmin
          condition="admin_user">
          <p>
            To set up <tal:product replace="context/displayname" /> for
            translation in Launchpad, you need to upload a translation
            template for one of its release series.
          </p>
          <ul>
            <li tal:repeat="series context/serieses">
              <a tal:attributes="
                   href string:${series/fmt:url}/+translations-upload"
                 tal:content="series/title">main</a>
            </li>
          </ul>
          <p>
            Or you may want to
            <a tal:attributes="href string:${context/fmt:url}/+packages">
              link the project to a distribution package
            </a> set up for translation, if there is one, so their
            translations can be shared.
          </p>
        </tal:registrantoradmin>
        <tal:other
          condition="not: admin_user">
          <p>
            The <tal:product replace="context/displayname" /> project is not
            set up for translation in Launchpad.
          </p>
          <tal:not-logged-in condition="not:request/lp:person">
            <p>
              If you are
              <tal:person replace="context/owner/fmt:displayname" />,
              <a href="+login">log in</a> to begin the setup process.
            </p>
            <p>
              Otherwise, you might want to talk with
              <a tal:replace="structure context/owner/fmt:link">
                Foo Bar
              </a>, the project registrant, about using Launchpad for
              translations.
            </p>
          </tal:not-logged-in>
          <p tal:condition="request/lp:person">
            You might want to talk with
            <a tal:replace="structure context/owner/fmt:link">
              Foo Bar
            </a>, the project registrant, about using Launchpad for
            translations.
          </p>
        </tal:other>
      </tal:not-uses-translations>
      <tal:registrant-or-admin
        condition="admin_user">
        <tal:has-obsolete-entries
          condition="context/obsolete_translatable_series">
          <div
            tal:replace="structure context/@@+portlet-obsolete-translatables" />
        </tal:has-obsolete-entries>
      </tal:registrant-or-admin>
    </div>
  </body>
</html>
