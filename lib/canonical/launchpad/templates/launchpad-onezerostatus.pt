<html
  xmlns="http://www.w3.org/1999/xhtml"
  xmlns:tal="http://xml.zope.org/namespaces/tal"
  xmlns:metal="http://xml.zope.org/namespaces/metal"
  xmlns:i18n="http://xml.zope.org/namespaces/i18n"
  xml:lang="en"
  lang="en"
  dir="ltr"
  metal:use-macro="view/macro:page/freeform" 
  i18n:domain="launchpad"
>
  <head>
    <metal:style fill-slot="head_epilogue">
      <style type="text/css">
        .new {}
        .todo {background-color: #eee;}
        .inprogress {background-color: #ffd;}
        .done {background-color: #cdc;}
        .error {background-color: #fee;}
      </style>
    </metal:style>
  </head>
  <body>
    <div metal:fill-slot="main">
      <h1>Launchpad 1.0 page templates</h1>
      <h2>How ready are our page templates for one-zero?</h2>

      <p>We track the status of page templates with comments of the form
      <code>&lt;!-- 1-0 todo Something --&gt;</code>,
      <code>&lt;!-- 1-0 inprogress Something --&gt;</code>, or
      <code>&lt;!-- 1-0 done Something --&gt;</code>.</p>

      <h2>Pages</h2>
      <p>These are '.pt' files that contain an 'html' element, or contain a
      '1-0' status comment.</p>
      <table style="width: auto" class="listing">
        <thead>
          <th>Status</th>
          <th>Filename</th>
          <th>Help text</th>
          <th>Comments</th>
        </thead>
        <tbody>
          <tr tal:repeat="page view/pages"
              tal:attributes="class page/status">
            <td tal:content="page/status" />
            <td tal:content="page/filename"/>
            <td>
              <tal:if condition="page/helptext">
                <a
                  tal:attributes="onclick string:document.getElementById('${page/filename}-helptext').style.visibility='visible';;return false;;">
                  help</a>
                <div
                  style="visibility:hidden;position:absolute;border:1px solid grey"
                  tal:attributes="id string:${page/filename}-helptext"
                  onclick="this.style.visibility='hidden';return false;"
                  tal:content="structure page/helptext"/>
              </tal:if>
            </td>
            <td tal:content="structure page/comment" />
          </tr>
        </tbody>
      </table>

      <h2>Portlets</h2>
      <p>These are '.pt' files that have 'portlet' in their filename.</p>
      <table style="width: auto" class="listing">
        <thead>
          <th>Status</th>
          <th>Filename</th>
          <th>Comments</th>
        </thead>
        <tbody>
          <tr tal:repeat="page view/portlets"
              tal:attributes="class page/status">
            <td tal:content="page/status" />
            <td tal:content="page/filename"/>
            <td tal:content="structure page/comment" />
          </tr>
        </tbody>
      </table>

      <h2>Excluded templates</h2>
      <p>These templates were not examined at all, because we chose not to do so.</p>
      <ul>
        <li tal:repeat="name view/listExcludedTemplates"
            tal:content="name"/>
      </ul>

      <p>This is a list of the '.pt' files that were not listed as pages or as portlets in the tables above.</p>
      <ul>
        <li tal:repeat="name view/excluded_from_run"
            tal:content="name"/>
      </ul>

    </div>
  </body>
</html>
