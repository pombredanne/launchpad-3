<html
  xmlns="http://www.w3.org/1999/xhtml"
  xmlns:tal="http://xml.zope.org/namespaces/tal"
  xmlns:metal="http://xml.zope.org/namespaces/metal"
  xmlns:i18n="http://xml.zope.org/namespaces/i18n"
  xml:lang="en"
  lang="en"
  dir="ltr"
  metal:use-macro="context/@@main_template/master"
  i18n:domain="launchpad"
>
  <body>
    <metal:heading fill-slot="pageheading">
      <h1>Redeem Vouchers for Commercial Subscriptions</h1>
    </metal:heading>
    <div metal:fill-slot="main"
         tal:define="commercial_projects view/owned_commercial_projects">
      <div tal:condition="not: commercial_projects">
        You do not administer any commercial projects therefore you cannot manage
        commerical subscriptions.
      </div>
      <div tal:condition="commercial_projects"
           metal:use-macro="context/@@launchpad_form/form">
        <metal:widgets fill-slot="widgets">
          <table class="form">
            <tal:widget define="widget nocall:view/widgets/project">
              <metal:block use-macro="context/@@launchpad_form/widget_row" />
            </tal:widget>
            <tal:widget define="widget nocall:view/widgets/voucher">
              <metal:block use-macro="context/@@launchpad_form/widget_row" />
            </tal:widget>
            <tal:widget define="widget nocall:view/widgets/voucher_paste">
              <metal:block use-macro="context/@@launchpad_form/widget_row" />
            </tal:widget>
            <tr>
              <td></td>
              <td>
                <input tal:replace="structure view/redeem_action/render" />
                <input tal:replace="structure view/cancel_action/render" />
              </td>
            </tr>
          </table>
        </metal:widgets>
        <metal:widgets fill-slot="buttons" />
      </div>
    </div>
  </body>
</html>
