<html xmlns="http://www.w3.org/1999/xhtml"
      xml:lang="en" lang="en"
      metal:use-macro="context/@@main_template/master"
      i18n:domain="launchpad">

  <body>

    <metal:leftportlets fill-slot="portlets_one">
      <div tal:replace="structure context/calendar/@@+portlet-subscriptions|nothing" />
    </metal:leftportlets>

    <div metal:fill-slot="titleheader"
         tal:replace="context/calendar/title">Calendar Title</div>

    <div metal:fill-slot="main">
      <h1 tal:content="view/datestring">Time</h1>

      <table class="cal-navigation">
        <tr>
          <td width="30%" align="left">
            <a tal:attributes="href context/prevRange/fmt:url">&#8592; Previous</a>
          </td>
          <td width="30%" align="center">
            <a href="../this-month">Today</a>
          </td>
          <td width="30%" align="right">
            <a tal:attributes="href context/nextRange/fmt:url">Next &#8594;</a>
          </td>
        </tr>
      </table>

      <table class="cal-table">
        <tr>
          <th tal:repeat="day view/daynames"
              tal:content="day">Day of Week</th>
        </tr>
        <tr tal:repeat="row view/layout" valign="top">
          <tal:block tal:repeat="daynum row">
            <td tal:condition="daynum"
                tal:define="day python:view.days[daynum-1]"
                class="cal-daycell" width="14%">
            <div class="cal-dayhead">
              <a tal:attributes="href day/dayURL"
                 tal:content="day/date/day">1</a>
            </div>
            <div class="cal-addlink">
              <a tal:attributes="href day/addURL">(add)</a>
            </div>
            <ul class="cal-event-list">
              <li tal:repeat="event day/events"
                  tal:attributes="style python:'background: %s' % view.eventColour(event)">
                <a tal:attributes="href event/fmt:url">
                <span tal:replace="python:view.eventStart(event)">12:00</span>
                -
                <span tal:replace="event/title">Title</span>
                </a>
              </li>
            </ul>
            </td>
            <td tal:condition="not:daynum"></td>
          </tal:block>
        </tr>
      </table>
    </div>

  </body>
</html>
