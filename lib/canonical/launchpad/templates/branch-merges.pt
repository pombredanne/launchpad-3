<html
  xmlns="http://www.w3.org/1999/xhtml"
  xmlns:tal="http://xml.zope.org/namespaces/tal"
  xmlns:metal="http://xml.zope.org/namespaces/metal"
  xmlns:i18n="http://xml.zope.org/namespaces/i18n"
  xml:lang="en"
  lang="en"
  dir="ltr"
  metal:use-macro="view/macro:page/onecolumn"
  i18n:domain="launchpad"
>

<body>

<metal:heading fill-slot="before_nav_menu"
               tal:content="structure context/@@+heading"/>

  <div metal:fill-slot="main">

    <div id="dependent-branches" tal:condition="context/dependent_branches">
      <h2>Dependent branches</h2>

      <tal:proposals repeat="mergeproposal context/dependent_branches">
        <tal:dependent-branch
          define="branch mergeproposal/source_branch;
                  show_status python:True;
                  show_whiteboard python:True;
                  ">
          <metal:landing-target use-macro="context/@@+macros/merge-proposal"/>
        </tal:dependent-branch>
      </tal:proposals>
    </div>


    <div id="landing-targets" tal:condition="view/landing_targets">
      <h2>This branch is proposed for merging into</h2>

      <tal:proposals repeat="mergeproposal view/landing_targets">
        <tal:landing-target
          define="branch mergeproposal/target_branch;
                  dependent_branch mergeproposal/dependent_branch;
                  show_status python:True;
                  show_whiteboard python:True;
                  ">
          <metal:landing-target use-macro="context/@@+macros/merge-proposal"/>
        </tal:landing-target>
      </tal:proposals>
    </div>

    <div id="landing-candidates"
      tal:condition="view/landing_candidates">
      <h2>Branches proposed to be merged into this one</h2>

      <tal:proposals repeat="mergeproposal view/landing_candidates">
        <tal:landing-candidate
            define="branch mergeproposal/source_branch;
                    show_whiteboard python:True;
                    show_status python:True;
                    show_associations python:True;
                    show_lifecycle python:True;
                    ">
          <metal:landing-target use-macro="context/@@+macros/merge-proposal"/>
        </tal:landing-candidate>
      </tal:proposals>
    </div>
    <div tal:condition="view/no_merges">
      There are no merges involving this branch.
    </div>

  </div>

</body>
</html>
