<html
    xmlns="http://www.w3.org/1999/xhtml"
    xml:lang="en"
    lang="en"
    metal:use-macro="context/@@main_template/master"
    i18n:domain="launchpad">

<body>

<metal:leftportlets fill-slot="portlets_one">
</metal:leftportlets>

<metal:rightportlets fill-slot="portlets_two">
  <div tal:replace="structure context/@@+portlet-details" />
</metal:rightportlets>

<metal:heading fill-slot="pageheading">
  <h3 tal:content="context/title">Context title goes here</h3>
  <h1>Set topics for discussion</h1>
</metal:heading>

<div metal:fill-slot="main"
     tal:define="speclinks view/spec_links">

  <p class="documentDescription">
    This page allows you to accept or decline topics for discussion at
    <span tal:replace="context/title">Ubuntu Below Zero</span>.
  </p>

  <p class="error message"
     tal:condition="view/status_message"
     tal:content="view/status_message" />

  <p tal:condition="not: speclinks">
    <i>There are no specifications currently proposed as topics for
    discussion at
    <span tal:replace="context/title">Ubuntu Below Zero</span>. You can
    check the list of specifications
    <a href="+specs?acceptance=declined">previously declined</a> for the
    agenda.</i>
  </p>

  <form tal:attributes="action request/URL" method="POST">

    <table tal:condition="speclinks">
      <tbody>
        <tr tal:repeat="speclink speclinks">
        <tal:spec define="spec speclink/specification">
          <td>
            <input type="checkbox" name="speclink"
                   tal:attributes="
                     value speclink/id;
                     id string:speclink_${speclink/id}" />
          </td>
          <td class="lesser">
            <label tal:attributes="
                for string:speclink_${speclink/id};
                title spec/name">
              <span tal:replace="spec/title/fmt:shorten/60">
                Fix It Here
              </span>
            </label>
            
            <div class="discreet">
              <span tal:attributes="
                    class string:specpriority${spec/priority/name}" 
                    tal:content="spec/priority/title">High</span>,
              <span tal:attributes="
                    class string:specstatus${spec/status/name}"
                    tal:content="spec/status/title">New</span>,
              <span tal:attributes="
                    class string:specdelivery${spec/delivery/name}"
                    tal:content="spec/delivery/title">New</span>,
              <img src="/@@/spec" />&nbsp;<a
                   tal:attributes="href spec/fmt:url"
                   >Details</a >
              <img src="/@@/link" />&nbsp;<a
                   tal:attributes="href spec/specurl"
                   >Specification</a>
              <span tal:replace="spec/summary">summary</span>
              <br />
              <tal:registrant condition="speclink/registrant">
                Proposed for <span tal:replace="context/title">UBZ</span> by
                <img src="/@@/user" />
                <a tal:attributes="href speclink/registrant/fmt:url"
                   tal:content="speclink/registrant/browsername">Foo Bar</a>
                <span tal:condition="python: speclink.registrant.id not in view.attendee_ids">
                  (non-attendee)
                </span>

                on
                <span
                  tal:replace="speclink/date_created/fmt:date">2006-01-12</span>
              </tal:registrant>
            </div>
          </td>
        </tal:spec>
        </tr>
      </tbody>
    </table>

    <p tal:condition="speclinks">
      Select the specifications that you wish to accept or decline.
    </p>

    <div class="actions">
      <input type="submit"
             name="SUBMIT_CANCEL"
             value="Cancel" />
      <input tal:condition="speclinks"
             type="submit"
             name="SUBMIT_ACCEPT"
             value="Accept" />
      <input tal:condition="speclinks"
             type="submit"
             name="SUBMIT_DECLINE"
             value="Decline" />
    </div>

  </form>

</div>

</body>
</html>
