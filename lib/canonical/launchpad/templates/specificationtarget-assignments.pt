<html
  xmlns="http://www.w3.org/1999/xhtml"
  xmlns:tal="http://xml.zope.org/namespaces/tal"
  xmlns:metal="http://xml.zope.org/namespaces/metal"
  xmlns:i18n="http://xml.zope.org/namespaces/i18n"
  xml:lang="en"
  lang="en"
  dir="ltr"
  metal:use-macro="context/@@main_template/master"
  i18n:domain="launchpad"
>

<body>

<metal:leftportlets fill-slot="portlets_one">
  <div tal:replace="structure context/@@+portlet-details" />
  <div tal:replace="structure context/@@+portlet-latestspecs" />
</metal:leftportlets>

<metal:heading fill-slot="pageheading">
  <h1>Assignment of work on blueprints</h1>
</metal:heading>

<div metal:fill-slot="main">

  <p class="informational message" tal:condition="not: view/specs">
    No blueprints to display.
  </p>

  <table class="listing sortable" tal:condition="view/specs" id="work">
    <thead>
      <tr>
        <th>Priority</th>
        <th>Name</th>
        <th>Definition</th>
        <th>Delivery</th>
        <th>Assignee</th>
        <th>Drafter</th>
        <th>Approver</th>
      </tr>
    </thead>
    <tbody class="lesser">
      <tr tal:repeat="spec view/specs">
        <td>
          <span class="sortkey" tal:content="spec/priority/sortkey" />
          <span tal:content="spec/priority/title"
                tal:attributes="
                class string:specpriority${spec/priority/name}">High</span>
        </td>
        <td><a tal:content="spec/name/fmt:shorten/35"
               tal:attributes="
                 href spec/fmt:url;
                 title spec/title">foo-bar-baz</a>
            <img src="/@@/info" alt="Informational"
                 tal:condition="spec/informational" />
        </td>
        <td>
          <span class="sortkey" tal:content="spec/definition_status/sortkey" />
          <span tal:content="spec/definition_status/title"
                tal:attributes="
                class string:specstatus${spec/definition_status/name}">Approved</span>
        </td>
        <td>
          <span class="sortkey" tal:content="spec/implementation_status/sortkey" />
          <span tal:content="spec/implementation_status/title"
                tal:attributes="
                class string:specdelivery${spec/implementation_status/name}">Slow
          </span>
        </td>
        <td><a tal:condition="spec/assignee"
               tal:content="spec/assignee/name"
               tal:attributes="href spec/assignee/fmt:url">Assignee Bar</a></td>
        <td><a tal:condition="spec/drafter"
               tal:content="spec/drafter/name"
               tal:attributes="href spec/drafter/fmt:url">Drafter Baz</a></td>
        <td><a tal:condition="spec/approver"
               tal:content="spec/approver/name"
               tal:attributes="href spec/approver/fmt:url">Approver Foo</a></td>
      </tr>
    </tbody>
  </table>

  <p tal:condition="view/specs">
    This listing shows the assignment of work for
    blueprints currently associated with 
    <span tal:replace="context/displayname">Mozilla</span>.
    The drafter is responsible for getting the specification correctly
    written up and approved.
    The approver is usually the person who would
    sign off on the specification.
  </p>

</div>
</body>
</html>
