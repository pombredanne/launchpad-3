<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en"
      lang="en"
      metal:use-macro="context/@@main_template/master"
      i18n:domain="launchpad">

<body>

<metal:leftportlets fill-slot="portlets_one">
    <div tal:replace="structure context/@@+portlet-details" />
</metal:leftportlets>

  <div metal:fill-slot="main" tal:define="job context/currentjob">

    <h1>Cancel <span tal:replace="context/title"/></h1>
 
    <div tal:condition="job">

    <div class="portalMessage" tal:define="message view/cancelBuildJob"
         tal:condition="message" tal:content="structure message"/>

    <p><dfn tal:content="context/title">BUILDER</dfn> is processing:</p>

    <table class="listing rowNavigation" width="100%">
      <thead>
        <tr>
            <th>Title</th>
            <th>Created</th>
            <th>Started</th>
            <th>Partial Duration</th>
        </tr>
      </thead>
      <tbody>
        <tr>
            <td tal:content="job/build/title">NAME</td>
            <td tal:content="job/build/datecreated/fmt:datetime">CREATED</td>
            <td tal:content="job/buildstart/fmt:datetime">STARTED</td>
            <td>
              <span tal:replace="job/buildduration/fmt:approximateduration"/>
            </td>
        </tr>
      </tbody>
     </table>

     <p>Are you sure ?</p> 

     <form name="CANCEL" action="" method="POST">
       <input name="BUILDERID" type="hidden" 
              tal:attributes="value context/id"/>
       <input type="submit" value="Cancel Current Job"/>
     </form>
       
    </div>

    <div tal:condition="not:job">
    <h3><dfn tal:content="context/title">BUILDER</dfn> is IDLE, no need
        to cancel.</h3>
    </div>

  </div>
</body>
</html>
