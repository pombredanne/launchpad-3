Non-Personal Subscriptions
==========================

In addition to subscribing / unsubscribing yourself, it is possible to add a
person as a subscriber to the bug. You would use this feature to subscribe
someone else to the bug.

Anonymous users should not be able to subscribe someone else to a bug.

    >>> anon_browser.open('http://bugs.launchpad.dev/firefox/+bug/1')
    >>> anon_browser.getLink('Subscribe someone else').click()
    Traceback (most recent call last):
    ...
    Unauthorized: ...

No Privileges wants to subscribe David Allouche to the bug because he knows
that he's interested in that feature.

    >>> user_browser.open('http://bugs.launchpad.dev/firefox/+bug/1')
    >>> user_browser.getLink('Subscribe someone else').click()
    >>> user_browser.url
    'http://bugs.launchpad.dev/firefox/+bug/1/+addsubscriber'

By looking at the 'Subscribers' portlet, he sees that David Allouche is not
currently subscribed to the bug:

    >>> subs = find_portlet(user_browser.contents, 'Subscribers')
    >>> 'David Allouche' not in extract_text(subs.ul)
    True

He subscribes David Allouche to the bug using his Launchpad username.

    >>> user_browser.getControl("Person").value = 'ddaa'
    >>> user_browser.getControl("Add").click()
    >>> user_browser.url
    'http://bugs.launchpad.dev/firefox/+bug/1'

He is notified that David Allouche has been subscribed.

    >>> for tag in find_tags_by_class(user_browser.contents,
    ...     'informational message'):
    ...     extract_text(tag)
    u'David Allouche has been subscribed to this bug.'

The subscribers portlet now contains the new subscriber's name.

    >>> subs = find_portlet(user_browser.contents, 'Subscribers')
    >>> extract_text(subs.ul)
    u'...David Allouche...'

He subscribes the Landscape developers team.

    >>> user_browser.getLink('Subscribe someone else').click()
    >>> user_browser.getControl("Person").value = 'landscape-developers'
    >>> user_browser.getControl("Add").click()
    >>> user_browser.url
    'http://bugs.launchpad.dev/firefox/+bug/1'

He is notified that Landscape developers team has been subscribed.

    >>> for tag in find_tags_by_class(user_browser.contents,
    ...     'informational message'):
    ...     extract_text(tag)
    u'Landscape Developers team has been subscribed to this bug.'

The subscribers portlet display the new subscribed team.

    >>> subs = find_portlet(user_browser.contents, 'Subscribers')
    >>> extract_text(subs.ul)
    u'...Landscape Developers...'
