The bug contact reports present an overview and searchable bug listing
views for packages for which a user is a bug contact.

    >>> anon_browser.open("http://launchpad.dev/~name16/+packagebugs")
    >>> print anon_browser.contents
    <!DOCTYPE...
    ...Foo Bar's package bug reports...
    ...
    ...Foo Bar is subscribed to these packages.
    ...Totals...1...0...1...0...
    ...mozilla-firefox in ubuntu...1...0...1...0...
    ...pmount in ubuntu...0...0...0...0...
    ...

If we add a bug for Foo Bar these numbers will be updated:

    >>> import transaction
    >>> from zope.component import getUtility
    >>> from canonical.launchpad.interfaces import (CreateBugParams,
    ...     IDistributionSet, IPersonSet)
    >>> from canonical.launchpad.ftests import login, logout
    >>> from canonical.database.sqlbase import flush_database_updates

    >>> login('foo.bar@canonical.com')
    >>> ubuntu = getUtility(IDistributionSet).getByName("ubuntu")
    >>> name16 = getUtility(IPersonSet).get(16)
    >>> pmount = ubuntu.getSourcePackage('pmount')
    >>> bug_params = CreateBugParams(
    ...     owner=name16,
    ...     title="Some new bug",
    ...     comment="this is a new bug")
    >>> new_bug = pmount.createBug(bug_params)
    >>> flush_database_updates()
    >>> logout()

The numbers displayed will have changed to include the new bug in
pmount.

    >>> anon_browser.open("http://launchpad.dev/~name16/+packagebugs")
    >>> print anon_browser.contents
    <!DOCTYPE...
    ...Foo Bar's package bug reports...
    ...
    ...Foo Bar is subscribed to these packages.
    ...Totals...2...0...2...0...
    ...mozilla-firefox in ubuntu...1...0...1...0...
    ...pmount in ubuntu...1...0...1...0...
    ...

    >>> transaction.abort()

The overview report presents links to open, critical, unassigned, and in
progress bugs.

    >>> anon_browser.open(
    ...     "http://launchpad.dev/~name16/+packagebugs-search?"
    ...     "field.distribution=ubuntu&field.sourcepackagename=mozilla-firefox&"
    ...     "field.status=New&field.status=Confirmed&"
    ...     "field.status=In+Progress&search=Search")

    >>> print anon_browser.title
    Foo Bar's package bug reports

    >>> anon_browser.open(
    ...     "http://launchpad.dev/~name16/+packagebugs-search?"
    ...     "field.distribution=ubuntu&field.importance=Critical&"
    ...     "field.sourcepackagename=mozilla-firefox&field.status=New&"
    ...     "field.status=Confirmed&field.status=In+Progress&search=Search")

    >>> print anon_browser.title
    Foo Bar's package bug reports

    >>> anon_browser.open(
    ...     "http://launchpad.dev/~name16/+packagebugs-search?"
    ...     "field.distribution=ubuntu&field.sourcepackagename=mozilla-firefox&"
    ...     "field.status=New&field.status=Confirmed&"
    ...     "field.status=In+Progress&field.unassigned=on&search=Search")

    >>> print anon_browser.title
    Foo Bar's package bug reports

    >>> anon_browser.open(
    ...     "http://launchpad.dev/~name16/+packagebugs-search?"
    ...     "field.distribution=ubuntu&field.sourcepackagename=mozilla-firefox&"
    ...     "field.status=In+Progress&search=Search")

    >>> print anon_browser.title
    Foo Bar's package bug reports

    >>> anon_browser.open(
    ...     "http://launchpad.dev/~name16/+packagebugs-search?"
    ...     "field.distribution=debian&field.sourcepackagename=mozilla-firefox&"
    ...     "field.status=New&field.status=Confirmed&"
    ...     "field.status=In+Progress&search=Search")

    >>> print anon_browser.title
    Foo Bar's package bug reports

On the bug listing page, there is a searchtext field, for searching the
title and description of the package's bugs.

    >>> anon_browser.open(
    ...     "http://launchpad.dev/~name16/+packagebugs-search?"
    ...     "field.distribution=debian&field.sourcepackagename=mozilla-firefox&"
    ...     "field.searchtext=support&search=Search")

    >>> print anon_browser.title
    Foo Bar's package bug reports

Error Handling
--------------

The package bugs report must have both a field.distribution and a
field.sourcepackagename in the URL, otherwise an UnexpectedFormData
exception will be raised.

    >>> anon_browser.open(
    ...     "http://launchpad.dev/~name12/+packagebugs-search?"
    ...     "advanced=1&field.distribution=ubuntu&field.sourcepackagename=&"
    ...     "search=Search")
    Traceback (most recent call last):
      ..
    UnexpectedFormData: ...

    >>> anon_browser.open(
    ...     "http://launchpad.dev/~name12/+packagebugs-search")
    Traceback (most recent call last):
      ..
    UnexpectedFormData: ...
