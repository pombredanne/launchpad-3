It should be possible to add a external web reference to any bug. Using
the bug 2 of the sample data, that doesn't have any external web reference,
we will check the Add Web Reference Page, add a new external reference to it,
and test if the edit link is working.

Open the +addurl page.

  >>> browser = setupBrowser(auth='Basic test@canonical.com:test')
  >>> browser.open('http://bugs.launchpad.dev/tomcat/+bug/2/+addurl')

  >>> browser.title
  'Bug #2 - Add a web link'

  >>> '<h1>Add a web link</h1>' in browser.contents
  True

Add a web link to the bug from the +addurl page.

  >>> browser.getControl('URL').value = 'http://www.sample.com'
  >>> browser.getControl('Title').value = 'Sample Person Ref Page'
  >>> browser.getControl('Add').click()

After adding the link, you'll be redirected to the bug page.

  >>> browser.url
  'http://bugs.launchpad.dev/tomcat/+bug/2'

Check that the newly added web reference is there.

  >>> browser.getLink('Sample Person Ref Page').url
  'http://www.sample.com'

Access the added web link +edit page.

  >>> url = '/tomcat/+bug/2/references/1'
  >>> browser.getLink(url=url).click()

  >>> browser.title
  'Bug #2 - Edit web link \xe2\x80\x9cSample Person Ref Page\xe2\x80\x9d'

  >>> '<h1>Edit web link</h1>' in browser.contents
  True

  >>> browser.getControl('URL').value
  'http://www.sample.com'
  >>> browser.getControl('Title').value
  'Sample Person Ref Page'
