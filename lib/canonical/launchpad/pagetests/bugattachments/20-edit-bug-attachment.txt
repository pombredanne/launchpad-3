We can also edit the attachment details, let's navigate to that page.

  >>> user_browser.open('http://bugs.launchpad.dev/firefox/+bug/1')
  >>> user_browser.getLink(url='+attachment/1').click()
  >>> user_browser.url
  'http://bugs.launchpad.dev/firefox/+bug/1/+attachment/1'

  >>> 'Change bug attachment information' in user_browser.contents
  True

There's also an option to cancel, which takes you back to the bug
page, maintaining the firefox context.

  >>> user_browser.getLink('Cancel')
  <Link text='Cancel' url='http://bugs.launchpad.dev/firefox/+bug/1'>

After editing the attachment details (we leave some leading and trailing
whitespace to test that's correctly stripped)...

  >>> user_browser.getControl('Title').value = '   Another title  '
  >>> user_browser.getControl('Content Type').value = 'text/html'
  >>> user_browser.getControl('Change').click()

...we're redirected to the bug page

  >>> user_browser.url
  'http://bugs.launchpad.dev/firefox/+bug/1'

  >>> 'Another title' in user_browser.contents
  True

And if we edit it to be a patch the content type will be automatically
changed to be text/plain.

  >>> user_browser.getLink(url='+attachment/1').click()
  >>> user_browser.getControl('This attachment is a patch').selected = True
  >>> user_browser.getControl('Change').click()

  >>> user_browser.url
  'http://bugs.launchpad.dev/firefox/+bug/1'

  >>> user_browser.getLink(url='+attachment/1').click()
  >>> user_browser.getControl('Content Type').value
  'text/plain'
