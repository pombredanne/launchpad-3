  The shipit admins can do any changes they want to a request.

  >>> browser.addHeader('Authorization', 'Basic marilize@hbd.com:test')
  >>> browser.open('http://shipit.ubuntu.dev/requests')
  >>> browser.url
  'http://shipit.ubuntu.dev/requests'

  Let's see the two pending requests we have for Dapper CDs.

  >>> browser.getControl(name='statusfilter').value
  ['PENDING']
  >>> browser.getControl(name='releasefilter').value
  ['DAPPER']
  >>> browser.getControl('Show').click()
  >>> print browser.contents
  <!DOCTYPE...
  ...2 results...


  Now we'll approve request number 12.
  
  >>> browser.getLink('12').click()
  >>> browser.url
  'http://shipit.ubuntu.dev/requests/12'

  >>> browser.getControl('Approve & Continue').click()


  When approving/denying/changing a request, we get redirected to the next
  request pending approval.

  >>> browser.url
  'http://shipit.ubuntu.dev/requests/13?previous=12&approved=1'
  >>> 'Status: pending' in browser.contents
  True


  This request's address is wrong, and Marilize noticed that, so she'll
  correct it by going to the /adminrequest page.

  >>> browser.getLink('Edit shipping details').click()
  >>> browser.url
  'http://shipit.ubuntu.dev/adminrequest?order=13'

  >>> browser.getControl('Address:').value = 'Fixed address'
  >>> browser.getControl('Change Request').click()

  >>> browser.url
  'http://shipit.ubuntu.dev/requests/13'
  >>> 'Fixed address' in browser.contents
  True


  For this request we'll change the approved quantities before approving.

  >>> browser.getControl(name='field.edubuntu_quantityx86approved').value
  '5'
  >>> browser.getControl(name='field.edubuntu_quantityx86approved').value = '3'

  >>> browser.getControl('Approve & Continue').click()


  And in this case we won't be redirected because there's no more pending
  requests.

  >>> browser.url
  'http://shipit.ubuntu.dev/requests/13/'
  
  >>> browser.getControl(name='field.edubuntu_quantityx86approved').value
  '3'


  Actually, this request should have been denied, let's do it!

  >>> browser.getControl('Deny & Continue').click()
  >>> browser.url
  'http://shipit.ubuntu.dev/requests/13/'
  >>> 'Status: denied' in browser.contents
  True


  But, if the shipit admin realizes later that the denied request should have
  been approved actually, it's possible to do it.

  >>> browser.url
  'http://shipit.ubuntu.dev/requests/13/'
  >>> browser.getControl('Approve & Continue').click()
  >>> 'Status: denied' in browser.contents
  False
  >>> 'Status: approved' in browser.contents
  True


  One other thing that shipit admins can do is to make new requests on behalf
  of other people, containing any number of CDs they want.

  >>> browser.open('http://shipit.ubuntu.dev/adminrequest')
  >>> browser.url
  'http://shipit.ubuntu.dev/adminrequest'

  >>> browser.getControl(name='field.ubuntu_quantityx86').value = '15'
  >>> browser.getControl(name='field.ubuntu_quantityamd64').value = '5'
  >>> browser.getControl(name='field.kubuntu_quantityx86').value = '10'
  >>> browser.getControl(name='field.kubuntu_quantityamd64').value = '2'

  >>> browser.getControl('Name:').value = 'Guilherme Salgado'
  >>> browser.getControl('Address:').value = 'Rua Clovis Bevilacqua, 145'
  >>> browser.getControl('City/Town/etc:').value = 'Sao Jose dos Campos'
  >>> browser.getControl('Phone:').value = '39414258'
  >>> browser.getControl('Country:').value = ['31']
  >>> browser.getControl('Postcode:').value = '12242790'

  >>> browser.getControl('Request').click()
  >>> browser.url
  'http://shipit.ubuntu.dev/requests/20'

  The requests created using the administrative interface are automatically
  approved.

  >>> 'Status: approved (unshipped)' in browser.contents
  True
  >>> browser.getControl(name='field.ubuntu_quantityx86approved').value
  '15'
  >>> browser.getControl(name='field.ubuntu_quantityamd64approved').value
  '5'
  >>> browser.getControl(name='field.kubuntu_quantityx86approved').value
  '10'
  >>> browser.getControl(name='field.kubuntu_quantityamd64approved').value
  '2'

  We don't ship Edgy CDs through shipit, but we still want to allow shipit
  admins to make Edgy requests on behalf of a few "special" people, like
  LoCo teams.

  >>> browser.open('http://shipit.ubuntu.dev/adminrequest?release=edgy')
  >>> browser.url
  'http://shipit.ubuntu.dev/adminrequest?release=edgy'

  >>> print browser.contents
  <...
  ...<h1>...Make a new Edgy...Request...</h1>
  ...

  >>> browser.getControl(name='field.ubuntu_quantityx86').value = '15'

  >>> browser.getControl('Name:').value = 'Guilherme Salgado'
  >>> browser.getControl('Address:').value = 'Rua Clovis Bevilacqua, 145'
  >>> browser.getControl('City/Town/etc:').value = 'Sao Jose dos Campos'
  >>> browser.getControl('Phone:').value = '39414258'
  >>> browser.getControl('Country:').value = ['31']
  >>> browser.getControl('Postcode:').value = '12242790'

  >>> browser.getControl('Request').click()
  >>> browser.url
  'http://shipit.ubuntu.dev/requests/21'

  >>> 'Status: approved (unshipped)' in browser.contents
  True

  >>> print browser.contents
  <...
  ...<h1>...Edgy...Request...</h1>...
  ...
