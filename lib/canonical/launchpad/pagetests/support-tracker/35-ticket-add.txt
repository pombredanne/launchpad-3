= Submitting New Support Requests =

There are two paths available to a user to make new support requests.
The first one involes three steps. First, go to the product or
distribution for which support is desired. Then browse to the support
facet and finally, use the 'Request support' action:

    >>> browser.open('http://launchpad.dev/ubuntu')
    >>> browser.getLink('Support').click()
    >>> print browser.title
    Support requests for Ubuntu

Making a new support requests requires logging in:

    >>> browser.getLink('Request Support').click()
    Traceback (most recent call last):
      ...
    Unauthorized...
    >>> user_browser.open('http://launchpad.dev/ubuntu/+tickets')
    >>> user_browser.getLink('Request Support').click()
    >>> user_browser.title
    'Request support with Ubuntu'

== Get Help Online ==

The other way is by using the 'Get Help Online' menu item that is found
in all GTK2 applications packaged for Ubuntu (and soon in QT
applications too). That page also has a 'make a support request' link
that will start the creation process. Tickets created this way will be
associated with the source package of the used application.

    >>> user_browser.open(
    ...     'http://launchpad.dev/ubuntu/hoary/'
    ...     '+sources/mozilla-firefox/+gethelp')
    >>> user_browser.title
    'Help and support options for mozilla-firefox...'
    >>> user_browser.getLink('make a support request').click()
    >>> user_browser.title
    'Request support with Hoary mozilla-firefox'

== Searching for Similar Tickets ==

Making a new support request is a two-step process. In the first step,
the user enters a summary of his problem. Using that summary, a search
is performed to find similar tickets that might exists.

That step cannot be skipped by the user, if he just clicks 'Continue',
an error message will be displayed.

    >>> user_browser.getControl('Summary').value
    ''
    >>> user_browser.getControl('Continue').click()
    >>> from BeautifulSoup import BeautifulSoup
    >>> soup = BeautifulSoup(user_browser.contents)
    >>> soup.first('div', 'message')
    <div class="message">You must enter a summary of your problem.</div>

The user enters his problem summary and a list of similar tickets is
displayed.

    >>> user_browser.getControl('Summary').value = (
    ...     'Visiting a web page requiring java crashes firefox')
    >>> user_browser.getControl('Continue').click()
    >>> soup = BeautifulSoup(user_browser.contents)
    >>> soup.first('table', {'id': 'similar-tickets'})
    <table id="similar-tickets">
    ...<a...href=".../mozilla-firefox/+ticket/8"...>Installation of Java
    Runtime Environment for Mozilla</a>...
    </table>

The beginning of the description appears in a small pop-up when the mouse is
left over the ticket's title.

    >>> import re
    >>> ticket_link = soup.first('a', text=re.compile('Installation of Java'))
    >>> print ticket_link.findParent('tr')['title']
    <BLANKLINE>
    When opening http://www.gotomypc.com/ with Mozilla, a java run time
    ennvironment plugin is requested.
    <BLANKLINE>
    1) The plugin finder service indicates that JRE is available
    2) next screen indicates JRE &quot;not available&quot; and requests
    &quot;manual install&quot;
    3) clicking on &quot;manual install&quot; open java web site.......

== Creating a New Ticket ==

If the shown tickets don't help the user, he may post a new support
ticket by filling in the 'Description' field. He may also edit the
summary he provided.

    >>> user_browser.getControl('Summary').value
    'Visiting a web page requiring java crashes firefox'

If the user doesn't provide details, he'll get an error message:

    >>> user_browser.getControl('Add').click()
    >>> soup = BeautifulSoup(user_browser.contents)
    >>> soup.first('div', 'message')
    <div class="message">You must provide details about your problem.</div>

And if he decides to remove the title, he'll be brought back to the
first step:

    >>> user_browser.getControl('Summary').value = ''
    >>> user_browser.getControl('Add').click()
    >>> soup = BeautifulSoup(user_browser.contents)
    >>> soup.first('div', 'message')
    <div class="message">You must enter a summary of your problem.</div>

Entering a valid title and description will create the new ticket and
redirect the user to the ticket page.

    >>> user_browser.getControl('Summary').value = (
    ...     'Visiting a web page requiring java crashes firefox')
    >>> user_browser.getControl('Continue').click()
    >>> user_browser.getControl('Description').value = (
    ... "I use Ubuntu on AMD64 and I've installed the blackdown java plugin\n"
    ... "The plugin is displayed in about:plugins. When I visit\n"
    ... "http://java.com/en/download/help/testvm.xml, the page loads ok and\n"
    ... "shows my java version. But if I move the mouse on the page, firefox\n"
    ... "crashes.\n")
    >>> user_browser.getControl('Add').click()
    >>> user_browser.url
    '.../ubuntu/+source/mozilla-firefox/+ticket/...'
    >>> user_browser.title
    'mozilla-firefox in ubuntu support request #...Visiting a web page...'
    >>> soup = BeautifulSoup(user_browser.contents)
    >>> soup.first('div', 'highlighted')
    <div class="highlighted">
    <p>I use Ubuntu on AMD64 ...
    </div>

The user automatically got subscribed to this new ticket.

    >>> soup.first('div', {'id': 'ticket-subscribers'})
    <div id="ticket-subscribers" class="portlet">
    ...<a href=".../~name12">Sample Person</a>...
    </div>

