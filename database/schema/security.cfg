#
# Possible permissions: SELECT, INSERT, UPDATE, EXECUTE
#
# Note that we can't have INSERT only tables if we are using SQLObject, as it
# creates new entries by first doing an insert (to get the id) and then
# issuing an update
[DEFAULT]
# Objects in these schemas are publicly readable or executable. *not* writable
public_schemas=ts2

[public]
# The pubic role is automatically granted to all users by PostgreSQL
type=group
public.person_sort_key(text, text)         = EXECUTE
public.debversion_sort_key(text)           = EXECUTE
public.null_count(anyarray)                = EXECUTE
public.valid_name(text)                    = EXECUTE
public.valid_bug_name(text)                = EXECUTE
public.valid_branch_name(text)             = EXECUTE
public.valid_debian_version(text)          = EXECUTE
public.valid_cve(text)                     = EXECUTE
public.valid_absolute_url(text)            = EXECUTE
public.valid_fingerprint(text)             = EXECUTE
public.valid_keyid(text)                   = EXECUTE
public.valid_regexp(text)                  = EXECUTE
public.sane_version(text)                  = EXECUTE
public.sha1(text)                          = EXECUTE
public.is_blacklisted_name(text)           = EXECUTE
public.is_person(text)                     = EXECUTE
public.is_team(integer)                    = EXECUTE
public.is_team(text)                       = EXECUTE
public.is_printable_ascii(text)            = EXECUTE
public.launchpaddatabaserevision           = SELECT
public.name_blacklist_match(text)          = EXECUTE
public.fticache                            =
public.pillarname                          = SELECT
public._killall_backends(text)             =

[ro]
# A user with full readonly access to the database. Generally used for
# interactive querying
type=user
groups=read

[testadmin]
# A user with full admin privileges used by the test suite
type=user
groups=admin

[launchpad]
# The main Z3 application
type=user
groups=write
public.announcement                     = SELECT, INSERT, UPDATE, DELETE
public.answercontact                    = SELECT, INSERT, UPDATE, DELETE
public.archive                          = SELECT, INSERT, UPDATE
public.archivedependency                = SELECT, INSERT, DELETE
public.binaryandsourcepackagenameview   = SELECT
public.binarypackagepublishinghistory   = SELECT
public.bountysubscription               = SELECT, INSERT, UPDATE, DELETE
public.branchrevision                   = SELECT, DELETE
public.branch                           = SELECT, INSERT, UPDATE, DELETE
public.branchmergeproposal              = SELECT, INSERT, UPDATE, DELETE
public.branchmergerobot                 = SELECT, INSERT, UPDATE, DELETE
public.branchsubscription               = SELECT, INSERT, UPDATE, DELETE
public.branchvisibilitypolicy           = SELECT, INSERT, UPDATE, DELETE
public.branchwithsortkeys               = SELECT
public.bugattachment                    = SELECT, INSERT, UPDATE, DELETE
public.bugbranch                        = SELECT, INSERT, UPDATE, DELETE
public.bugcve                           = SELECT, INSERT, DELETE
public.bugnomination                    = SELECT, UPDATE
public.bugnotification                  = SELECT, INSERT, UPDATE, DELETE
public.bugnotificationrecipient         = SELECT, INSERT, UPDATE, DELETE
public.bugtag                           = SELECT, INSERT, DELETE
public.codeimport                       = SELECT, INSERT, UPDATE, DELETE
public.codeimportevent                  = SELECT, INSERT, UPDATE
public.codeimporteventdata              = SELECT, INSERT
public.codeimportjob                    = SELECT, INSERT, UPDATE, DELETE
public.codeimportmachine                = SELECT, INSERT, UPDATE
public.codeimportresult                 = SELECT, INSERT, UPDATE, DELETE
public.codereviewmessage                = SELECT, INSERT
public.codereviewvote                   = SELECT, INSERT, UPDATE, DELETE
public.continent                        = SELECT
public.cvereference                     = SELECT, INSERT
public.cve                              = SELECT, INSERT, UPDATE
public.distributionbounty               = SELECT, INSERT, UPDATE
public.distributionmirror               = SELECT, INSERT, UPDATE, DELETE
public.distributionsourcepackagecache   = SELECT
public.distroserieslanguage             = SELECT, INSERT, UPDATE
public.distroseriespackagecache         = SELECT
public.emailaddress                     = SELECT, INSERT, UPDATE, DELETE
public.entitlement                      = SELECT, INSERT, UPDATE, DELETE
public.faq                              = SELECT, INSERT, UPDATE, DELETE
public.featuredproject                  = SELECT, INSERT, DELETE
public.hwdevicedriverlink               = SELECT
public.hwdevicenamevariant              = SELECT
public.hwdevice                         = SELECT
public.hwdriver                         = SELECT
public.hwsubmissiondevice               = SELECT
public.hwsubmission                     = SELECT, INSERT, UPDATE
public.hwsystemfingerprint              = SELECT, INSERT
public.hwtestanswerchoice               = SELECT
public.hwtestanswercountdevice          = SELECT
public.hwtestanswercount                = SELECT
public.hwtestanswerdevice               = SELECT
public.hwtestanswer                     = SELECT
public.hwtest                           = SELECT
public.hwvendorid                       = SELECT
public.hwvendorname                     = SELECT
public.karmacache                       = SELECT
public.karmacategory                    = SELECT
public.karmatotalcache                  = SELECT
public.languagepack                     = SELECT, INSERT, UPDATE
public.launchpadstatistic               = SELECT
public.libraryfilealias                 = SELECT, INSERT, UPDATE, DELETE
public.logintoken                       = SELECT, INSERT, UPDATE, DELETE
public.mailinglist                      = SELECT, INSERT, UPDATE, DELETE
public.mailinglistban                   = SELECT, INSERT, UPDATE, DELETE
public.mailinglistsubscription          = SELECT, INSERT, UPDATE, DELETE
public.mentoringoffer                   = SELECT, INSERT, UPDATE, DELETE
public.messagechunk                     = SELECT, INSERT
public.messageapproval                  = SELECT, INSERT, UPDATE, DELETE
public.mirrorcdimagedistroseries        = SELECT, INSERT, DELETE
public.mirrordistroarchseries           = SELECT, INSERT, DELETE, UPDATE
public.mirrordistroseriessource         = SELECT, INSERT, UPDATE, DELETE
public.mirrorproberecord                = SELECT, INSERT, DELETE
public.nameblacklist                    = SELECT, INSERT, UPDATE, DELETE
public.oauthaccesstoken                 = SELECT, INSERT, UPDATE, DELETE
public.oauthconsumer                    = SELECT, INSERT
public.oauthnonce                       = SELECT, INSERT
public.oauthrequesttoken                = SELECT, INSERT, UPDATE, DELETE
public.officialbugtag                   = SELECT, INSERT, UPDATE, DELETE
public.openidassociations               = SELECT, INSERT, DELETE
public.openidauthorization              = SELECT, INSERT, UPDATE, DELETE
public.openidrpconfig                   = SELECT, INSERT, UPDATE, DELETE
public.packagebugcontact                = SELECT, INSERT, UPDATE, DELETE
public.packagediff                      = SELECT, INSERT, UPDATE, DELETE
public.packaging                        = SELECT, INSERT, UPDATE, DELETE
public.personlanguage                   = SELECT, INSERT, UPDATE, DELETE
public.personlocation                   = SELECT, INSERT, UPDATE, DELETE
public.poexportrequest                  = SELECT, INSERT, UPDATE, DELETE
public.poexport                         = SELECT
public.pofiletranslator                 = SELECT
public.pofiletranslator                 = SELECT
public.polloption                       = SELECT, INSERT, UPDATE, DELETE
public.poll                             = SELECT, INSERT, UPDATE
public.potexport                        = SELECT
public.productbounty                    = SELECT, INSERT, UPDATE
public.productreleasefile               = SELECT, INSERT, DELETE
public.productreleasefile               = SELECT, INSERT, DELETE
public.project                          = SELECT
public.projectbounty                    = SELECT, INSERT, UPDATE
public.questionbug                      = SELECT, INSERT, DELETE
public.questionmessage                  = SELECT, INSERT
public.questionreopening                = SELECT, INSERT, UPDATE
public.question                         = SELECT, INSERT, UPDATE
public.questionsubscription             = SELECT, INSERT, UPDATE, DELETE
public.requestedcds                     = SELECT, INSERT, UPDATE, DELETE
public.revision                         = SELECT
public.revisionauthor                   = SELECT, UPDATE
public.revisionnumber                   = SELECT
public.revisionparent                   = SELECT
public.scriptactivity                   = SELECT, INSERT
public.shipitreport                     = SELECT, INSERT
public.shipitsurvey                     = SELECT, INSERT, UPDATE
public.shipitsurveyquestion             = SELECT, INSERT
public.shipitsurveyanswer               = SELECT, INSERT
public.shipitsurveyresult               = SELECT, INSERT
public.shipment                         = SELECT, INSERT, UPDATE
public.shippingrequest                  = SELECT, INSERT, UPDATE, DELETE
public.shippingrun                      = SELECT, INSERT, UPDATE
public.shockandawe                      = SELECT, INSERT, UPDATE
public.sourcepackagepublishinghistory   = SELECT
public.specificationbranch              = SELECT, INSERT, UPDATE, DELETE
public.specificationbug                 = SELECT, INSERT, DELETE
public.specificationdependency          = SELECT, INSERT, DELETE
public.specificationfeedback            = SELECT, INSERT, UPDATE, DELETE
public.specificationmessage             = SELECT, INSERT
public.specification                    = SELECT, INSERT, UPDATE
public.specificationsubscription        = SELECT, INSERT, UPDATE, DELETE
public.spokenin                         = SELECT, INSERT, DELETE
public.sprintattendance                 = SELECT, INSERT, UPDATE, DELETE
public.sprint                           = SELECT, INSERT, UPDATE
public.sprintspecification              = SELECT, INSERT, UPDATE, DELETE
public.standardshipitrequest            = SELECT, INSERT, UPDATE, DELETE
public.structuralsubscription           = SELECT, INSERT, UPDATE, DELETE
public.temporaryblobstorage             = SELECT, INSERT, DELETE
public.translationgroup                 = SELECT, INSERT, UPDATE
public.translationimportqueueentry      = SELECT, INSERT, UPDATE, DELETE
public.translationmessage               = SELECT, INSERT, UPDATE
public.translator                       = SELECT, INSERT, UPDATE, DELETE
public.validpersonorteamcache           = SELECT
public.votecast                         = SELECT, INSERT
public.vote                             = SELECT, INSERT, UPDATE
public.wikiname                         = SELECT, INSERT, UPDATE, DELETE

[statistician]
type=user
public.archive                          = SELECT, UPDATE
public.binarypackagename                = SELECT
public.binarypackagepublishinghistory   = SELECT
public.binarypackagerelease             = SELECT
public.branch                           = SELECT
public.bug                              = SELECT
public.bugtask                          = SELECT
public.build                            = SELECT
public.distribution                     = SELECT
public.distributionsourcepackagecache   = SELECT, INSERT, UPDATE, DELETE
public.distroarchseries                 = SELECT, UPDATE
public.distroseries                     = SELECT, UPDATE
public.distroserieslanguage             = SELECT, INSERT, UPDATE, DELETE
public.distroseriespackagecache         = SELECT, INSERT, UPDATE, DELETE
public.language                         = SELECT
public.launchpadstatistic               = SELECT, INSERT, UPDATE, DELETE
public.person                           = SELECT
public.validpersonorteamcache           = SELECT
public.potemplate                       = SELECT
public.pofile                           = SELECT
public.pofiletranslator                 = SELECT
public.pomsgid                          = SELECT
public.potmsgset                        = SELECT
public.product                          = SELECT
public.productseries                    = SELECT
public.question                         = SELECT
public.scriptactivity                   = SELECT, INSERT
public.sourcepackagename                = SELECT
public.sourcepackagepublishinghistory   = SELECT
public.sourcepackagerelease             = SELECT
public.specification                    = SELECT
public.translationmessage               = SELECT, INSERT, UPDATE

[librarian]
type=user
public.libraryfilealias                 = SELECT, INSERT, UPDATE
public.libraryfilecontent               = SELECT, INSERT

[librariangc]
type=user
public.libraryfilealias                 = SELECT, UPDATE, DELETE
public.libraryfilecontent               = SELECT, UPDATE, DELETE
# This user needs select on every table that references LibraryFileAlias
public.binarypackagefile                = SELECT
public.branchmergeproposal              = SELECT
public.bugattachment                    = SELECT
public.build                            = SELECT
public.codeimportresult                 = SELECT
public.distribution                     = SELECT
public.distributionmirror               = SELECT
public.languagepack                     = SELECT
public.hwsubmission                     = SELECT
public.message                          = SELECT
public.messagechunk                     = SELECT
public.messageapproval                  = SELECT
public.mirrorproberecord                = SELECT
public.openidrpconfig                   = SELECT
public.packagediff                      = SELECT
public.packageupload                    = SELECT
public.packageuploadcustom              = SELECT
public.person                           = SELECT
public.pocketchroot                     = SELECT
public.pofile                           = SELECT
public.potemplate                       = SELECT
public.product                          = SELECT
public.productreleasefile               = SELECT
public.project                          = SELECT
public.scriptactivity                   = SELECT, INSERT
public.shipitreport                     = SELECT
public.shippingrun                      = SELECT
public.sprint                           = SELECT
public.sourcepackagereleasefile         = SELECT
public.temporaryblobstorage             = SELECT, DELETE
public.translationimportqueueentry      = SELECT

[productreleasefinder]
# Dyson release import script
type=user
public.product                          = SELECT
public.productseries                    = SELECT
public.productrelease                   = SELECT, INSERT, UPDATE
public.productreleasefile               = SELECT, INSERT, UPDATE
# Needed only because SQLobject does things...
public.person                           = SELECT
# Needed to write to the librarian
public.libraryfilealias                 = SELECT, INSERT
public.libraryfilecontent               = SELECT, INSERT
public.scriptactivity                   = SELECT, INSERT

[pofilestats]
# Translations POFile statistics verification/update script
type=user
public.language                         = SELECT
public.pofile                           = SELECT, UPDATE
public.potemplate                       = SELECT
public.potmsgset                        = SELECT
public.scriptactivity                   = SELECT, INSERT
public.translationmessage               = SELECT

[poimport]
# Rosetta import script
type=user
groups=write
public.scriptactivity                   = SELECT, INSERT
public.translationgroup                 = SELECT
public.translationimportqueueentry      = SELECT, DELETE
public.translationmessage               = SELECT, INSERT, UPDATE
public.translator                       = SELECT
public.validpersonorteamcache           = SELECT

[poexport]
# Rosetta export script
type=user
public.distribution                     = SELECT
public.distroseries                     = SELECT
public.emailaddress                     = SELECT
public.language                         = SELECT
public.libraryfilealias                 = SELECT, INSERT
public.libraryfilecontent               = SELECT, INSERT
public.person                           = SELECT
public.poexport                         = SELECT
public.poexportrequest                  = SELECT, DELETE
public.pofile                           = SELECT, UPDATE
public.pofiletranslator                 = SELECT
public.pomsgid                          = SELECT
public.potemplate                       = SELECT
public.potexport                        = SELECT
public.potmsgset                        = SELECT
public.potranslation                    = SELECT
public.product                          = SELECT
public.productseries                    = SELECT
public.scriptactivity                   = SELECT, INSERT
public.sourcepackagename                = SELECT
public.translationgroup                 = SELECT
public.translationmessage               = SELECT
public.translator                       = SELECT
public.validpersonorteamcache           = SELECT

[checkwatches]
# Malone bug watch script
type=user
public.answercontact                    = SELECT
public.bug                              = SELECT, INSERT, UPDATE
public.bugactivity                      = SELECT, INSERT
public.bugcve                           = SELECT, INSERT
public.bugmessage                       = SELECT, INSERT
public.bugnomination                    = SELECT
public.bugnotification                  = SELECT, INSERT
public.bugnotificationrecipient         = SELECT, INSERT
public.bugsubscription                  = SELECT
public.bugtask                          = SELECT, INSERT, UPDATE
public.bugtracker                       = SELECT, INSERT
public.bugtrackeralias                  = SELECT
public.bugwatch                         = SELECT, INSERT, UPDATE
public.cve                              = SELECT, INSERT, UPDATE
public.cvereference                     = SELECT, INSERT, UPDATE
public.distribution                     = SELECT
public.distroseries                     = SELECT
public.emailaddress                     = SELECT, INSERT
public.language                         = SELECT
public.libraryfilealias                 = SELECT, INSERT
public.libraryfilecontent               = SELECT, INSERT
public.messagechunk                     = SELECT, INSERT
public.message                          = SELECT, INSERT
public.milestone                        = SELECT
public.packagebugcontact                = SELECT
public.person                           = SELECT, INSERT
public.personlanguage                   = SELECT
public.product                          = SELECT
public.productseries                    = SELECT
public.project                          = SELECT
public.questionbug                      = SELECT
public.question                         = SELECT
public.questionsubscription             = SELECT
public.scriptactivity                   = SELECT, INSERT
public.sourcepackagename                = SELECT
public.structuralsubscription           = SELECT
public.teammembership                   = SELECT
public.teamparticipation                = SELECT, INSERT
public.validpersonorteamcache           = SELECT
public.wikiname                         = SELECT, INSERT

[importd]
type=user
public.branch                           = SELECT, INSERT, UPDATE
public.codeimport                       = SELECT, UPDATE
public.codeimportevent                  = SELECT, INSERT
public.codeimporteventdata              = SELECT, INSERT
public.codeimportjob                    = SELECT, INSERT, UPDATE, DELETE
public.codeimportmachine                = SELECT, UPDATE
public.codeimportresult                 = SELECT, INSERT, DELETE
public.branchvisibilitypolicy           = SELECT
# Karma
public.karma                            = SELECT, INSERT
public.karmaaction                      = SELECT
public.person                           = SELECT
public.product                          = SELECT
# XXX: Michael Hudson 2007-07-02: INSERT on ProductSeries is only
#      needed for tests.
public.productseries                    = SELECT, INSERT, UPDATE
public.project                          = SELECT
# XXX: Michael Hudson 2007-07-02: The following are only excercised
#      by importd.tests.test_Job.testGetPackageJob, which is not
#      exactly production code.  The test could be disabled instead.
public.distribution                     = SELECT
public.distroseries                     = SELECT
public.packaging                        = SELECT
public.sourcepackagerelease             = SELECT
public.sourcepackagename                = SELECT
public.validpersonorteamcache           = SELECT

[branchscanner]
type=user
groups=write
public.branch                           = SELECT, UPDATE
public.branchrevision                   = SELECT, INSERT, UPDATE, DELETE
public.branchsubscription               = SELECT
public.branchvisibilitypolicy           = SELECT
public.bugbranch                        = SELECT, INSERT, UPDATE
public.emailaddress                     = SELECT
# Karma
public.karma                            = SELECT, INSERT
public.karmaaction                      = SELECT
public.person                           = SELECT
public.revision                         = SELECT, INSERT
public.revisionauthor                   = SELECT, INSERT, UPDATE
public.revisionparent                   = SELECT, INSERT
public.revisionproperty                 = SELECT, INSERT
public.scriptactivity                   = SELECT, INSERT
public.validpersonorteamcache           = SELECT

[targetnamecacheupdater]
type=user
public.bugtask                                  = SELECT, UPDATE
public.product                                  = SELECT
public.productseries                            = SELECT
public.distribution                             = SELECT
public.distroseries                             = SELECT
public.sourcepackagename                        = SELECT
public.binarypackagename                        = SELECT
public.potemplate                               = SELECT, UPDATE
public.scriptactivity                           = SELECT, INSERT

[distributionmirror]
type=user
public.archive                                  = SELECT
public.binarypackagefile                        = SELECT
public.binarypackagename                        = SELECT
public.binarypackagerelease                     = SELECT
public.build                                    = SELECT
public.component                                = SELECT
public.componentselection                       = SELECT
public.distribution                             = SELECT
public.distributionmirror                       = SELECT, UPDATE
public.distroseries                             = SELECT
public.distroarchseries                         = SELECT
public.emailaddress                             = SELECT
public.libraryfilealias                         = SELECT, INSERT
public.libraryfilecontent                       = SELECT, INSERT
public.mirrorcdimagedistroseries                = SELECT, INSERT, UPDATE, DELETE
public.mirrordistroarchseries                   = SELECT, UPDATE, DELETE, INSERT
public.mirrordistroseriessource                 = SELECT, UPDATE, DELETE, INSERT
public.mirrorproberecord                        = SELECT, INSERT
public.person                                   = SELECT
public.processorfamily                          = SELECT
public.scriptactivity                           = SELECT, INSERT
public.securesourcepackagepublishinghistory     = SELECT
public.securebinarypackagepublishinghistory     = SELECT
public.sourcepackagerelease                     = SELECT
public.sourcepackagereleasefile                 = SELECT
public.sourcepackagename                        = SELECT
public.teammembership                           = SELECT

[teammembership]
# Update the TeamMembership table setting expired members
type=user
public.teammembership                           = SELECT, UPDATE
public.teamparticipation                        = SELECT, DELETE
public.person                                   = SELECT
public.emailaddress                             = SELECT
public.scriptactivity                           = SELECT, INSERT

[karma]
# Update the KarmaCache table
type=user
public.karmacache                               = SELECT, INSERT, UPDATE, DELETE
public.karma                                    = SELECT
public.karmacategory                            = SELECT
public.karmaaction                              = SELECT
public.karmatotalcache                          = SELECT, INSERT, UPDATE, DELETE
public.emailaddress                             = SELECT
public.person                                   = SELECT
public.product                                  = SELECT
public.validpersonorteamcache                   = SELECT
public.scriptactivity                           = SELECT, INSERT

[cve]
type=user
public.cve                                      = SELECT, INSERT, UPDATE
public.cvereference                             = SELECT, INSERT, UPDATE, DELETE
public.scriptactivity                           = SELECT, INSERT


[gina]
# Unpack sourcepackages and extract metadata
type=user
groups=write
public.archive                                  = SELECT
public.distribution                             = SELECT
public.packagediff                              = SELECT, INSERT, UPDATE
public.scriptactivity                           = SELECT, INSERT
public.securebinarypackagepublishinghistory     = SELECT, INSERT, UPDATE, DELETE
public.securesourcepackagepublishinghistory     = SELECT, INSERT, UPDATE, DELETE

[lucille]
type=user
groups=write
public.archive                                  = SELECT
public.securebinarypackagepublishinghistory     = SELECT, INSERT, UPDATE, DELETE
public.binarypackagepublishinghistory           = SELECT
public.securesourcepackagepublishinghistory     = SELECT, INSERT, UPDATE, DELETE
public.sourcepackagepublishinghistory           = SELECT
public.scriptactivity                           = SELECT, INSERT

# Nicole is not running. Need to set permissions correctly if she
# is resurrected.
#[nicole]
# Pull in product metadata from Freshmeat and other sources
#type=user

[authserver]
# The authentication server.
type=user
groups=write
public.scriptactivity                           = SELECT, INSERT
public.branchvisibilitypolicy                   = SELECT
public.branchsubscription                       = SELECT, INSERT
public.validpersonorteamcache           = SELECT
#public.pushmirroraccess                 = SELECT, INSERT, UPDATE

# Bob the buildd doesn't talk to the database
#[bob]
#type=user

[fiera]
type=user
public.archive                                  = SELECT
public.archivedependency                        = SELECT
public.buildqueue                               = SELECT, INSERT, UPDATE, DELETE
public.builder                                  = SELECT, INSERT, UPDATE
public.build                                    = SELECT, INSERT, UPDATE
public.distribution                             = SELECT, UPDATE
public.distroseries                             = SELECT, UPDATE
public.distroarchseries                         = SELECT, UPDATE
public.sourcepackagepublishinghistory           = SELECT
public.securesourcepackagepublishinghistory     = SELECT
public.sourcepackagerelease                     = SELECT
public.sourcepackagereleasefile                 = SELECT
public.sourcepackagename                        = SELECT
public.binarypackagepublishinghistory           = SELECT
public.securebinarypackagepublishinghistory     = SELECT
public.binarypackagerelease                     = SELECT
public.binarypackagefile                        = SELECT
public.binarypackagename                        = SELECT
public.libraryfilealias                         = SELECT, INSERT
public.libraryfilecontent                       = SELECT, INSERT
public.processor                                = SELECT
public.processorfamily                          = SELECT
public.pocketchroot                             = SELECT, INSERT, UPDATE
public.component                                = SELECT
public.section                                  = SELECT
public.publishedpackage                         = SELECT
public.person                                   = SELECT
public.emailaddress                             = SELECT
public.teammembership                           = SELECT
public.scriptactivity                           = SELECT, INSERT

[sourcerer]
type=user
public.archive                                  = SELECT
public.branch                                   = SELECT, INSERT, UPDATE
public.revision                                 = SELECT, INSERT, UPDATE
# Karma
public.karma                                    = SELECT, INSERT
public.karmaaction                              = SELECT
# To get at a source package's manifest
public.distribution                             = SELECT
public.distroseries                             = SELECT
public.sourcepackagename                        = SELECT
public.sourcepackagepublishinghistory           = SELECT
public.sourcepackagerelease                     = SELECT, UPDATE
public.sourcepackagereleasefile                 = SELECT
# To get at an upstream product's manifest
public.product                                  = SELECT
public.productseries                            = SELECT
public.productrelease                           = SELECT, UPDATE
public.productreleasefile                       = SELECT
# To get from source package to upstream
public.packaging                                = SELECT
# To get stuff from the librarian
public.libraryfilealias                         = SELECT
public.libraryfilecontent                       = SELECT
public.scriptactivity                           = SELECT, INSERT

[write]
type=group
# Full access except for tables that are exclusively updated by
# certain processes, such as the librarian tables. This group is deprecated -
# access should be explicitly granted to users.
public.archive                          = SELECT, INSERT, UPDATE
public.binarypackagerelease             = SELECT, INSERT, UPDATE
public.binarypackagefile                = SELECT, INSERT, UPDATE
public.binarypackagefilepublishing      = SELECT, INSERT, UPDATE
public.binarypackagename                = SELECT, INSERT, UPDATE
public.bounty                           = SELECT, INSERT, UPDATE
public.bountymessage                    = SELECT, INSERT
public.branch                           = SELECT, INSERT, UPDATE
public.bug                              = SELECT, INSERT, UPDATE
public.bugactivity                      = SELECT, INSERT, UPDATE
public.bugattachment                    = SELECT, INSERT, UPDATE
public.bugmessage                       = SELECT, INSERT, UPDATE
public.bugnomination                    = SELECT, INSERT, UPDATE
public.bugpackageinfestation            = SELECT, INSERT, UPDATE
public.bugproductinfestation            = SELECT, INSERT, UPDATE
public.bugsubscription                  = SELECT, INSERT, UPDATE, DELETE
public.bugtask                          = SELECT, INSERT, UPDATE
public.bugtracker                       = SELECT, INSERT, UPDATE, DELETE
public.bugtrackeralias                  = SELECT, INSERT, UPDATE, DELETE
public.bugwatch                         = SELECT, INSERT, UPDATE, DELETE
public.build                            = SELECT, INSERT, UPDATE
public.builder                          = SELECT, INSERT, UPDATE
public.buildqueue                       = SELECT, INSERT, UPDATE, DELETE
public.component                        = SELECT, INSERT, UPDATE
public.componentselection               = SELECT, INSERT, UPDATE
public.country                          = SELECT, INSERT, UPDATE
public.distribution                     = SELECT, INSERT, UPDATE
public.distroarchseries                 = SELECT, INSERT, UPDATE
public.distroseries                     = SELECT, INSERT, UPDATE
public.packageupload                    = SELECT, INSERT, UPDATE
public.packageuploadbuild               = SELECT, INSERT, UPDATE
public.packageuploadsource              = SELECT, INSERT, UPDATE
public.packageuploadcustom              = SELECT, INSERT, UPDATE
public.distrocomponentuploader          = SELECT, INSERT, UPDATE
public.emailaddress                     = SELECT, INSERT, UPDATE
public.ircid                            = SELECT, INSERT, UPDATE, DELETE
public.jabberid                         = SELECT, INSERT, UPDATE, DELETE
public.karma                            = SELECT, INSERT, UPDATE
public.karmaaction                      = SELECT, INSERT, UPDATE
public.language                         = SELECT, INSERT, UPDATE
public.launchpaddatabaserevision        = SELECT, INSERT, UPDATE
public.libraryfilealias                 = SELECT, INSERT
public.libraryfilecontent               = SELECT, INSERT
public.logintoken                       = SELECT, INSERT, UPDATE
public.mirror                           = SELECT, INSERT, UPDATE, DELETE
public.mirrorcontent                    = SELECT, INSERT, UPDATE, DELETE
public.mirrorsourcecontent              = SELECT, INSERT, UPDATE, DELETE
public.teammembership                   = SELECT, INSERT, UPDATE, DELETE
public.message                          = SELECT, INSERT, UPDATE
public.milestone                        = SELECT, INSERT, UPDATE
public.binarypackagepublishinghistory   = SELECT
public.securebinarypackagepublishinghistory = SELECT, INSERT, UPDATE, DELETE
public.packageselection                 = SELECT, INSERT, UPDATE
public.packaging                        = SELECT, INSERT, UPDATE
public.person                           = SELECT, INSERT, UPDATE
public.personlanguage                   = SELECT, INSERT, UPDATE
public.pocketchroot                     = SELECT, INSERT, UPDATE
public.pocomment                        = SELECT, INSERT, UPDATE
public.pofile                           = SELECT, INSERT, UPDATE
public.pomsgid                          = SELECT, INSERT, UPDATE
public.posubscription                   = SELECT, INSERT, UPDATE, DELETE
public.potemplate                       = SELECT, INSERT, UPDATE
public.potmsgset                        = SELECT, INSERT, UPDATE
public.potranslation                    = SELECT, INSERT, UPDATE
public.processor                        = SELECT, INSERT, UPDATE
public.processorfamily                  = SELECT, INSERT, UPDATE
public.product                          = SELECT, INSERT, UPDATE
public.productlicense                   = SELECT, INSERT, UPDATE, DELETE
public.productcvsmodule                 = SELECT, INSERT, UPDATE
public.productrelease                   = SELECT, INSERT, UPDATE
public.productreleasefile               = SELECT, INSERT, UPDATE
public.productseries                    = SELECT, INSERT, UPDATE
public.productsvnmodule                 = SELECT, INSERT, UPDATE
public.project                          = SELECT, INSERT, UPDATE
public.projectrelationship              = SELECT, INSERT, UPDATE
public.publishedpackage                 = SELECT
public.pushmirroraccess                 = SELECT, INSERT, UPDATE
public.section                          = SELECT, INSERT, UPDATE
public.sectionselection                 = SELECT, INSERT, UPDATE
public.signedcodeofconduct              = SELECT, INSERT, UPDATE
public.sourcepackagefilepublishing      = SELECT, INSERT, UPDATE
public.sourcepackagename                = SELECT, INSERT, UPDATE
public.sourcepackagepublishinghistory   = SELECT
public.securesourcepackagepublishinghistory = SELECT, INSERT, UPDATE
public.sourcepackagerelease             = SELECT, INSERT, UPDATE
public.sourcepackagereleasefile         = SELECT, INSERT, UPDATE
public.spokenin                         = SELECT, INSERT, UPDATE
public.gpgkey                           = SELECT, INSERT, UPDATE, DELETE
public.sshkey                           = SELECT, INSERT, UPDATE, DELETE
public.teamparticipation                = SELECT, INSERT, UPDATE, DELETE
public.translationimportqueueentry      = SELECT, INSERT, UPDATE, DELETE
public.wikiname                         = SELECT, INSERT, UPDATE, DELETE

[shipit]
type=user
public.shipment                         = SELECT, INSERT
public.shippingrequest                  = SELECT, UPDATE
public.shippingrun                      = SELECT, INSERT, UPDATE
public.libraryfilealias                 = SELECT, INSERT
public.libraryfilecontent               = SELECT, INSERT
public.emailaddress                     = SELECT
public.person                           = SELECT
public.country                          = SELECT
public.continent                        = SELECT
public.requestedcds                     = SELECT
public.scriptactivity                   = SELECT, INSERT
public.validpersonorteamcache           = SELECT
public.shipitreport                     = SELECT, INSERT
public.karma                            = SELECT

[answertracker]
# User running expire-questions.py
type=user
public.answercontact                    = SELECT
public.bug                              = SELECT
public.bugtask                          = SELECT
public.distribution                     = SELECT
public.faq                              = SELECT
public.emailaddress                     = SELECT
public.language                         = SELECT
public.message                          = SELECT, INSERT
public.messagechunk                     = SELECT, INSERT
public.person                           = SELECT
public.personlanguage                   = SELECT
public.product                          = SELECT
public.question                         = SELECT, UPDATE
public.questionbug                      = SELECT
public.questionmessage                  = SELECT, INSERT
public.questionsubscription             = SELECT
public.scriptactivity                   = SELECT, INSERT
public.sourcepackagename                = SELECT
public.teammembership                   = SELECT
public.validpersonorteamcache           = SELECT

[uploader]
type=user
# Everything is keyed off an archive
public.archive                          = SELECT, INSERT

# This block is granted insert in order to be able to create maintainers
# on the fly when we encounter them.
public.person                           = SELECT, INSERT
public.emailaddress                     = SELECT, INSERT
public.teamparticipation                = SELECT, INSERT
public.wikiname                         = SELECT, INSERT
public.validpersonorteamcache           = SELECT

# I didn't want to give it INSERT and if someone can fix the gpg-coc story
# So that it works with my key in place then nascentupload.txt won't have
# to insert it.
public.gpgkey                           = SELECT, INSERT
public.signedcodeofconduct              = SELECT
public.distribution                     = SELECT
public.distroseries                     = SELECT, UPDATE
public.distroarchseries                 = SELECT
public.sourcepackagepublishinghistory   = SELECT
public.sourcepackagefilepublishing      = SELECT
public.binarypackagefilepublishing      = SELECT
public.binarypackagepublishinghistory   = SELECT
public.component                        = SELECT, INSERT
public.section                          = SELECT, INSERT
public.componentselection               = SELECT
public.sectionselection                 = SELECT
public.distrocomponentuploader          = SELECT
public.processor                        = SELECT
public.processorfamily                  = SELECT

# Source and Binary packages and builds
public.sourcepackagename                = SELECT, INSERT
public.sourcepackagerelease             = SELECT, INSERT
public.binarypackagename                = SELECT, INSERT
public.binarypackagerelease             = SELECT, INSERT
public.sourcepackagereleasefile         = SELECT, INSERT
public.binarypackagefile                = SELECT, INSERT
public.build                            = SELECT, INSERT, UPDATE
public.buildqueue                       = SELECT, INSERT, UPDATE

# Thusly the librarian
public.libraryfilecontent               = SELECT, INSERT
public.libraryfilealias                 = SELECT, INSERT

# The queue
public.packageupload                    = SELECT, INSERT, UPDATE
public.packageuploadsource              = SELECT, INSERT
public.packageuploadbuild               = SELECT, INSERT
public.packageuploadcustom              = SELECT, INSERT

public.scriptactivity                   = SELECT, INSERT

# For premature source-only publication
public.securesourcepackagepublishinghistory = SELECT, INSERT

# Closing bugs for premature source-only publication
public.bug                              = SELECT, UPDATE
public.bugactivity                      = SELECT, INSERT
public.bugsubscription                  = SELECT
public.bugnotification                  = SELECT, INSERT
public.bugnotificationrecipient         = SELECT, INSERT
public.bugnomination                    = SELECT
public.bugtask                          = SELECT, UPDATE
public.product                          = SELECT
public.project                          = SELECT
public.bugmessage                       = SELECT, INSERT
public.message                          = SELECT, INSERT
public.messagechunk                     = SELECT, INSERT
public.productseries                    = SELECT
public.validpersonorteamcache           = SELECT
public.karmaaction                      = SELECT
public.karma                            = SELECT, INSERT
public.questionbug                      = SELECT
public.question                         = SELECT
public.packagebugcontact                = SELECT
public.milestone                        = SELECT
public.bugwatch                         = SELECT, INSERT
public.bugtracker                       = SELECT, INSERT
public.bugtrackeralias                  = SELECT, INSERT
public.cve                              = SELECT, INSERT
public.bugcve                           = SELECT, INSERT
public.language                         = SELECT
public.questionsubscription             = SELECT
public.answercontact                    = SELECT
public.personlanguage                   = SELECT
public.structuralsubscription           = SELECT

# Diffing against ancestry and maintenance tasks.
public.packagediff                      = SELECT, INSERT, UPDATE, DELETE

[queued]
type=user
# Announce handling
public.person                           = SELECT, INSERT
public.emailaddress                     = SELECT, INSERT
public.teamparticipation                = SELECT, INSERT
public.distrocomponentuploader          = SELECT
public.gpgkey                           = SELECT

# The Queue
public.packageupload                    = SELECT, UPDATE
public.packageuploadsource              = SELECT
public.packageuploadbuild               = SELECT
public.packageuploadcustom              = SELECT

# Distribution/Publishing stuff
public.archive                          = SELECT
public.distribution                     = SELECT
public.distroseries                     = SELECT
public.distroarchseries                 = SELECT
public.processor                        = SELECT
public.processorfamily                  = SELECT
public.distrocomponentuploader          = SELECT
public.build                            = SELECT, INSERT, UPDATE
public.buildqueue                       = SELECT, INSERT, UPDATE
public.sourcepackagerelease             = SELECT, UPDATE
public.binarypackagerelease             = SELECT, UPDATE
public.sourcepackagereleasefile         = SELECT
public.binarypackagefile                = SELECT
public.sourcepackagename                = SELECT
public.binarypackagename                = SELECT
public.binarypackagepublishinghistory   = SELECT
public.sourcepackagepublishinghistory   = SELECT
public.sourcepackagefilepublishing      = SELECT
public.securesourcepackagepublishinghistory = SELECT, INSERT
public.securebinarypackagepublishinghistory = SELECT, INSERT
public.component                        = SELECT
public.section                          = SELECT
public.componentselection               = SELECT
public.sectionselection                 = SELECT

# Librarian stuff
public.libraryfilealias                 = SELECT, INSERT
public.libraryfilecontent               = SELECT, INSERT

# rosetta auto imports
public.translationimportqueueentry      = SELECT, INSERT, UPDATE

public.scriptactivity                   = SELECT, INSERT

# Closing bugs.
public.bug                              = SELECT, UPDATE
public.bugactivity                      = SELECT, INSERT
public.bugsubscription                  = SELECT
public.bugnotification                  = SELECT, INSERT
public.bugnotificationrecipient         = SELECT, INSERT
public.bugnomination                    = SELECT
public.bugtask                          = SELECT, UPDATE
public.product                          = SELECT
public.project                          = SELECT
public.bugmessage                       = SELECT, INSERT
public.message                          = SELECT, INSERT
public.messagechunk                     = SELECT, INSERT
public.productseries                    = SELECT
public.validpersonorteamcache           = SELECT
public.karmaaction                      = SELECT
public.karma                            = SELECT, INSERT
public.questionbug                      = SELECT
public.question                         = SELECT
public.packagebugcontact                = SELECT
public.milestone                        = SELECT
public.bugwatch                         = SELECT, INSERT
public.bugtracker                       = SELECT, INSERT
public.bugtrackeralias                  = SELECT, INSERT
public.cve                              = SELECT, INSERT
public.bugcve                           = SELECT, INSERT
public.language                         = SELECT
public.questionsubscription             = SELECT
public.answercontact                    = SELECT
public.personlanguage                   = SELECT
public.structuralsubscription           = SELECT


[ppad]
type=user
public.archive                          = SELECT
public.person                           = SELECT
public.scriptactivity                   = SELECT, INSERT

[supermirror]
type=user
# For supermirror-rewritemap cronscript
public.person                           = SELECT
public.product                          = SELECT
public.branch                           = SELECT
public.branchvisibilitypolicy           = SELECT
public.scriptactivity                   = SELECT, INSERT

[session]
# This user doesn't have access to any tables in the main launchpad
# database - it has permissions on the seperate session database only,
# which are not maintained by this script. User is just here so it gets
# created if necessary.
type=user

[bugnotification]
# Sends bug notifications.
# XXX: BjornT 2006-03-31:
#       All the INSERT permissions, and the UPDATE permission for the bug
#       table are necessary only because the test that test
#       send-bug-notifications.py needs them. They should be removed
#       when bug 37456 is fixed.
type=user
public.archive                          = SELECT
public.bugnotification                  = SELECT, INSERT, UPDATE
public.bugnotificationrecipient         = SELECT, INSERT, UPDATE
public.bugsubscription                  = SELECT, INSERT
public.bugnomination                    = SELECT
public.bug                              = SELECT, INSERT, UPDATE
public.bugactivity                      = SELECT, INSERT
public.bugmessage                       = SELECT, INSERT
public.bugtag                           = SELECT
public.bugtask                          = SELECT, INSERT, UPDATE
public.bugwatch                         = SELECT
public.component                        = SELECT
public.packagebugcontact                = SELECT
public.person                           = SELECT
public.product                          = SELECT
public.project                          = SELECT
public.productseries                    = SELECT
public.question                         = SELECT
public.questionbug                      = SELECT
public.distribution                     = SELECT
public.distroseries                     = SELECT
public.sourcepackagename                = SELECT
public.sourcepackagerelease             = SELECT
public.sourcepackagepublishinghistory   = SELECT
public.emailaddress                     = SELECT
public.libraryfilealias                 = SELECT
public.libraryfilecontent               = SELECT
public.message                          = SELECT, INSERT
public.messagechunk                     = SELECT, INSERT
public.milestone                        = SELECT
public.scriptactivity                   = SELECT, INSERT
public.structuralsubscription           = SELECT
public.teammembership                   = SELECT
public.teamparticipation                = SELECT
public.validpersonorteamcache           = SELECT

[rosettaadmin]
type=user
public.distribution                     = SELECT
public.distroseries                     = SELECT, UPDATE
public.distroserieslanguage             = SELECT, INSERT, UPDATE
public.language                         = SELECT
public.person                           = SELECT
public.pofile                           = SELECT, INSERT, UPDATE
public.pomsgid                          = SELECT
public.potemplate                       = SELECT, INSERT
public.potmsgset                        = SELECT, INSERT
public.potranslation                    = SELECT
public.product                          = SELECT
public.productseries                    = SELECT
public.scriptactivity                   = SELECT, INSERT
public.sourcepackagename                = SELECT
public.translationmessage               = SELECT, INSERT, UPDATE, DELETE


[oopsprune]
type=user
public.bug                              = SELECT
public.bugtask                          = SELECT
public.message                          = SELECT
public.messagechunk                     = SELECT
public.question                         = SELECT
public.scriptactivity                   = SELECT, INSERT

[listteammembers]
type=user
public.emailaddress                     = SELECT
public.person                           = SELECT
public.signedcodeofconduct              = SELECT
public.teamparticipation                = SELECT

# This group is now created automatically
# Readonly access to everything
#[read]
#type=group

# This group is now created automatically
# Full access to everything.
# [admin]
# type=group

[processmail]
type=user
public.scriptactivity                   = SELECT, INSERT

# Incoming emails are stored in the librarian
public.libraryfilealias                 = SELECT, INSERT
public.libraryfilecontent               = SELECT, INSERT

# Access to people
public.emailaddress                     = SELECT
public.gpgkey                           = SELECT
public.language                         = SELECT
public.person                           = SELECT
public.personlanguage                   = SELECT
public.teammembership                   = SELECT
public.teamparticipation                = SELECT
public.validpersonorteamcache           = SELECT

# Access to BugTargets, QuestionTarget and SpecTarget
public.archive                          = SELECT
public.component                        = SELECT
public.distribution                     = SELECT
public.distrocomponentuploader          = SELECT
public.distroseries                     = SELECT
public.project                          = SELECT
public.product                          = SELECT
public.productseries                    = SELECT
public.packagebugcontact                = SELECT
public.sourcepackagename                = SELECT
public.sourcepackagerelease             = SELECT
public.sourcepackagepublishinghistory   = SELECT
public.structuralsubscription           = SELECT

# Karma
public.karma                            = SELECT, INSERT
public.karmaaction                      = SELECT

# Creation of messages (bug & question comments)
public.message                          = SELECT, INSERT
public.messagechunk                     = SELECT, INSERT

# Bug update
public.bug                              = SELECT, INSERT, UPDATE
public.bugactivity                      = SELECT, INSERT
public.bugsubscription                  = SELECT, INSERT
public.bugnotification                  = SELECT, INSERT
public.bugnotificationrecipient         = SELECT, INSERT
public.bugnomination                    = SELECT, INSERT, UPDATE
public.bugtag                           = SELECT, INSERT, DELETE
public.bugtask                          = SELECT, INSERT, UPDATE
public.bugmessage                       = SELECT, INSERT
public.bugsubscription                  = SELECT, INSERT, UPDATE, DELETE
public.bugtracker                       = SELECT, INSERT
public.bugtrackeralias                  = SELECT, INSERT
public.bugwatch                         = SELECT, INSERT
public.milestone                        = SELECT

# CVE updates
public.cve                              = SELECT, INSERT
public.bugcve                           = SELECT, INSERT

# Adding comment to question
public.question                         = SELECT, UPDATE
public.questionmessage                  = SELECT, INSERT
public.questionbug                      = SELECT

# Question notifications
public.answercontact                    = SELECT
public.questionsubscription             = SELECT

# Specification notifications
public.specification                    = SELECT
public.specificationsubscription        = SELECT
public.structuralsubscription           = SELECT

# Emails may have files attached.
public.bugattachment                    = SELECT, INSERT

[mlist-sync]
# The mailing list sync user
type=user
public.mailinglist                      = SELECT
public.person                           = SELECT
public.emailaddress                     = SELECT, UPDATE
public.scriptactivity                   = SELECT, INSERT
